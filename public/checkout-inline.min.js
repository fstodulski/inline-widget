(()=>{var Ir=Object.defineProperty,Cr=Object.defineProperties;var Nr=Object.getOwnPropertyDescriptors;var Cn=Object.getOwnPropertySymbols;var Lr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable;var Nn=(n,e,t)=>e in n?Ir(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l=(n,e)=>{for(var t in e||(e={}))Lr.call(e,t)&&Nn(n,t,e[t]);if(Cn)for(var t of Cn(e))Mr.call(e,t)&&Nn(n,t,e[t]);return n},b=(n,e)=>Cr(n,Nr(e));var te=(n,e,t)=>new Promise((r,a)=>{var s=p=>{try{c(t.next(p))}catch(f){a(f)}},o=p=>{try{c(t.throw(p))}catch(f){a(f)}},c=p=>p.done?r(p.value):Promise.resolve(p.value).then(s,o);c((t=t.apply(n,e)).next())});var S;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{let s={};for(let o of a)s[o]=o;return s},n.getValidEnumValues=a=>{let s=n.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(let c of s)o[c]=a[c];return n.objectValues(o)},n.objectValues=a=>n.objectKeys(a).map(function(s){return a[s]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let s=[];for(let o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},n.find=(a,s)=>{for(let o of a)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(S||(S={}));var Bt;(function(n){n.mergeShapes=(e,t)=>l(l({},e),t)})(Bt||(Bt={}));var h=S.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ue=n=>{switch(typeof n){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(n)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(n)?h.array:n===null?h.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?h.promise:typeof Map!="undefined"&&n instanceof Map?h.map:typeof Set!="undefined"&&n instanceof Set?h.set:typeof Date!="undefined"&&n instanceof Date?h.date:h.object;default:return h.unknown}},u=S.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dr=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:"),H=class n extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(s){return s.message},r={_errors:[]},a=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let c=r,p=0;for(;p<o.path.length;){let f=o.path[p];p===o.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(o))):c[f]=c[f]||{_errors:[]},c=c[f],p++}}};return a(this),r}static assert(e){if(!(e instanceof n))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,S.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};H.create=n=>new H(n);var Ze=(n,e)=>{let t;switch(n.code){case u.invalid_type:n.received===h.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case u.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,S.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:t=`Unrecognized key(s) in object: ${S.joinValues(n.keys,", ")}`;break;case u.invalid_union:t="Invalid input";break;case u.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${S.joinValues(n.options)}`;break;case u.invalid_enum_value:t=`Invalid enum value. Expected ${S.joinValues(n.options)}, received '${n.received}'`;break;case u.invalid_arguments:t="Invalid function arguments";break;case u.invalid_return_type:t="Invalid function return type";break;case u.invalid_date:t="Invalid date";break;case u.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:S.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case u.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case u.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case u.custom:t="Invalid input";break;case u.invalid_intersection_types:t="Intersection results could not be merged";break;case u.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case u.not_finite:t="Number must be finite";break;default:t=e.defaultError,S.assertNever(n)}return{message:t}},Dn=Ze;function Pr(n){Dn=n}function vt(){return Dn}var Tt=n=>{let{data:e,path:t,errorMaps:r,issueData:a}=n,s=[...t,...a.path||[]],o=b(l({},a),{path:s});if(a.message!==void 0)return b(l({},a),{path:s,message:a.message});let c="",p=r.filter(f=>!!f).slice().reverse();for(let f of p)c=f(o,{data:e,defaultError:c}).message;return b(l({},a),{path:s,message:c})},Ur=[];function m(n,e){let t=vt(),r=Tt({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Ze?void 0:Ze].filter(a=>!!a)});n.common.issues.push(r)}var D=class n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if(a.status==="aborted")return x;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,t){return te(this,null,function*(){let r=[];for(let a of t){let s=yield a.key,o=yield a.value;r.push({key:s,value:o})}return n.mergeObjectSync(e,r)})}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return x;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value!="undefined"||a.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}},x=Object.freeze({status:"aborted"}),je=n=>({status:"dirty",value:n}),j=n=>({status:"valid",value:n}),Gt=n=>n.status==="aborted",Yt=n=>n.status==="dirty",Qe=n=>n.status==="valid",et=n=>typeof Promise!="undefined"&&n instanceof Promise;function bt(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Pn(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t}var _;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_||(_={}));var Je,Ke,q=class{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ln=(n,e)=>{if(Qe(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new H(n.common.issues);return this._error=t,this._error}}};function E(n){if(!n)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,c)=>{var p,f;let{message:T}=n;return o.code==="invalid_enum_value"?{message:T!=null?T:c.defaultError}:typeof c.data=="undefined"?{message:(p=T!=null?T:r)!==null&&p!==void 0?p:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(f=T!=null?T:t)!==null&&f!==void 0?f:c.defaultError}},description:a}}var w=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ue(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new D,ctx:{common:e.parent.common,data:e.data,parsedType:ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(et(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)},s=this._parseSync({data:e,path:a.path,parent:a});return Ln(a,s)}parseAsync(e,t){return te(this,null,function*(){let r=yield this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error})}safeParseAsync(e,t){return te(this,null,function*(){let r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)},a=this._parse({data:e,path:r.path,parent:r}),s=yield et(a)?a:Promise.resolve(a);return Ln(r,s)})}refine(e,t){let r=a=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{let o=e(a),c=()=>s.addIssue(l({code:u.custom},r(a)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(p=>p?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new B({schema:this,typeName:v.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Y.create(this,this._def)}nullable(){return re.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ce.create(this,this._def)}promise(){return pe.create(this,this._def)}or(e){return be.create([this,e],this._def)}and(e){return xe.create(this,e,this._def)}transform(e){return new B(b(l({},E(this._def)),{schema:this,typeName:v.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new Ae(b(l({},E(this._def)),{innerType:this,defaultValue:t,typeName:v.ZodDefault}))}brand(){return new tt(l({typeName:v.ZodBranded,type:this},E(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new Oe(b(l({},E(this._def)),{innerType:this,catchValue:t,typeName:v.ZodCatch}))}describe(e){let t=this.constructor;return new t(b(l({},this._def),{description:e}))}pipe(e){return nt.create(this,e)}readonly(){return Re.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},jr=/^c[^\s-]{8,}$/i,Zr=/^[0-9a-z]+$/,zr=/^[0-9A-HJKMNP-TV-Z]{26}$/,$r=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wr=/^[a-z0-9_-]{21}$/i,Fr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ht,Br=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Yr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Un="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qr=new RegExp(`^${Un}$`);function jn(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Xr(n){return new RegExp(`^${jn(n)}$`)}function Zn(n){let e=`${Un}T${jn(n)}`,t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Jr(n,e){return!!((e==="v4"||!e)&&Br.test(n)||(e==="v6"||!e)&&Gr.test(n))}var de=class n extends w{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let s=this._getOrReturnCtx(e);return m(s,{code:u.invalid_type,expected:h.string,received:s.parsedType}),x}let r=new D,a;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,c=e.data.length<s.value;(o||c)&&(a=this._getOrReturnCtx(e,a),o?m(a,{code:u.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&m(a,{code:u.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Vr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"email",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ht||(Ht=new RegExp(Hr,"u")),Ht.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"emoji",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")$r.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"uuid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Wr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"nanoid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")jr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"cuid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Zr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"cuid2",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")zr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"ulid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch(o){a=this._getOrReturnCtx(e,a),m(a,{validation:"url",code:u.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"regex",code:u.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Zn(s).test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?qr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Xr(s).test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Fr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"duration",code:u.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Jr(e.data,s.version)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"ip",code:u.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Yr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"base64",code:u.invalid_string,message:s.message}),r.dirty()):S.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),l({validation:t,code:u.invalid_string},_.errToObj(r)))}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(l({kind:"email"},_.errToObj(e)))}url(e){return this._addCheck(l({kind:"url"},_.errToObj(e)))}emoji(e){return this._addCheck(l({kind:"emoji"},_.errToObj(e)))}uuid(e){return this._addCheck(l({kind:"uuid"},_.errToObj(e)))}nanoid(e){return this._addCheck(l({kind:"nanoid"},_.errToObj(e)))}cuid(e){return this._addCheck(l({kind:"cuid"},_.errToObj(e)))}cuid2(e){return this._addCheck(l({kind:"cuid2"},_.errToObj(e)))}ulid(e){return this._addCheck(l({kind:"ulid"},_.errToObj(e)))}base64(e){return this._addCheck(l({kind:"base64"},_.errToObj(e)))}ip(e){return this._addCheck(l({kind:"ip"},_.errToObj(e)))}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(l({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1},_.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(l({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},_.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(l({kind:"duration"},_.errToObj(e)))}regex(e,t){return this._addCheck(l({kind:"regex",regex:e},_.errToObj(t)))}includes(e,t){return this._addCheck(l({kind:"includes",value:e,position:t==null?void 0:t.position},_.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(l({kind:"startsWith",value:e},_.errToObj(t)))}endsWith(e,t){return this._addCheck(l({kind:"endsWith",value:e},_.errToObj(t)))}min(e,t){return this._addCheck(l({kind:"min",value:e},_.errToObj(t)))}max(e,t){return this._addCheck(l({kind:"max",value:e},_.errToObj(t)))}length(e,t){return this._addCheck(l({kind:"length",value:e},_.errToObj(t)))}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};de.create=n=>{var e;return new de(l({checks:[],typeName:v.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1},E(n)))};function Kr(n,e){let t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,s=parseInt(n.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}var he=class n extends w{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let s=this._getOrReturnCtx(e);return m(s,{code:u.invalid_type,expected:h.number,received:s.parsedType}),x}let r,a=new D;for(let s of this._def.checks)s.kind==="int"?S.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),m(r,{code:u.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:u.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:u.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Kr(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),m(r,{code:u.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),m(r,{code:u.not_finite,message:s.message}),a.dirty()):S.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,a){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(a)}]}))}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&S.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};he.create=n=>new he(l({checks:[],typeName:v.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1},E(n)));var ge=class n extends w{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let s=this._getOrReturnCtx(e);return m(s,{code:u.invalid_type,expected:h.bigint,received:s.parsedType}),x}let r,a=new D;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:u.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:u.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),m(r,{code:u.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):S.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,a){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(a)}]}))}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ge.create=n=>{var e;return new ge(l({checks:[],typeName:v.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1},E(n)))};var _e=class extends w{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let r=this._getOrReturnCtx(e);return m(r,{code:u.invalid_type,expected:h.boolean,received:r.parsedType}),x}return j(e.data)}};_e.create=n=>new _e(l({typeName:v.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1},E(n)));var ye=class n extends w{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let s=this._getOrReturnCtx(e);return m(s,{code:u.invalid_type,expected:h.date,received:s.parsedType}),x}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return m(s,{code:u.invalid_date}),x}let r=new D,a;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):S.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};ye.create=n=>new ye(l({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:v.ZodDate},E(n)));var ze=class extends w{_parse(e){if(this._getType(e)!==h.symbol){let r=this._getOrReturnCtx(e);return m(r,{code:u.invalid_type,expected:h.symbol,received:r.parsedType}),x}return j(e.data)}};ze.create=n=>new ze(l({typeName:v.ZodSymbol},E(n)));var ve=class extends w{_parse(e){if(this._getType(e)!==h.undefined){let r=this._getOrReturnCtx(e);return m(r,{code:u.invalid_type,expected:h.undefined,received:r.parsedType}),x}return j(e.data)}};ve.create=n=>new ve(l({typeName:v.ZodUndefined},E(n)));var Te=class extends w{_parse(e){if(this._getType(e)!==h.null){let r=this._getOrReturnCtx(e);return m(r,{code:u.invalid_type,expected:h.null,received:r.parsedType}),x}return j(e.data)}};Te.create=n=>new Te(l({typeName:v.ZodNull},E(n)));var fe=class extends w{constructor(){super(...arguments),this._any=!0}_parse(e){return j(e.data)}};fe.create=n=>new fe(l({typeName:v.ZodAny},E(n)));var oe=class extends w{constructor(){super(...arguments),this._unknown=!0}_parse(e){return j(e.data)}};oe.create=n=>new oe(l({typeName:v.ZodUnknown},E(n)));var J=class extends w{_parse(e){let t=this._getOrReturnCtx(e);return m(t,{code:u.invalid_type,expected:h.never,received:t.parsedType}),x}};J.create=n=>new J(l({typeName:v.ZodNever},E(n)));var $e=class extends w{_parse(e){if(this._getType(e)!==h.undefined){let r=this._getOrReturnCtx(e);return m(r,{code:u.invalid_type,expected:h.void,received:r.parsedType}),x}return j(e.data)}};$e.create=n=>new $e(l({typeName:v.ZodVoid},E(n)));var ce=class n extends w{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==h.array)return m(t,{code:u.invalid_type,expected:h.array,received:t.parsedType}),x;if(a.exactLength!==null){let o=t.data.length>a.exactLength.value,c=t.data.length<a.exactLength.value;(o||c)&&(m(t,{code:o?u.too_big:u.too_small,minimum:c?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(m(t,{code:u.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(m(t,{code:u.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>a.type._parseAsync(new q(t,o,t.path,c)))).then(o=>D.mergeArray(r,o));let s=[...t.data].map((o,c)=>a.type._parseSync(new q(t,o,t.path,c)));return D.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new n(b(l({},this._def),{minLength:{value:e,message:_.toString(t)}}))}max(e,t){return new n(b(l({},this._def),{maxLength:{value:e,message:_.toString(t)}}))}length(e,t){return new n(b(l({},this._def),{exactLength:{value:e,message:_.toString(t)}}))}nonempty(e){return this.min(1,e)}};ce.create=(n,e)=>new ce(l({type:n,minLength:null,maxLength:null,exactLength:null,typeName:v.ZodArray},E(e)));function Ue(n){if(n instanceof F){let e={};for(let t in n.shape){let r=n.shape[t];e[t]=Y.create(Ue(r))}return new F(b(l({},n._def),{shape:()=>e}))}else return n instanceof ce?new ce(b(l({},n._def),{type:Ue(n.element)})):n instanceof Y?Y.create(Ue(n.unwrap())):n instanceof re?re.create(Ue(n.unwrap())):n instanceof ne?ne.create(n.items.map(e=>Ue(e))):n}var F=class n extends w{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=S.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.object){let f=this._getOrReturnCtx(e);return m(f,{code:u.invalid_type,expected:h.object,received:f.parsedType}),x}let{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof J&&this._def.unknownKeys==="strip"))for(let f in a.data)o.includes(f)||c.push(f);let p=[];for(let f of o){let T=s[f],$=a.data[f];p.push({key:{status:"valid",value:f},value:T._parse(new q(a,$,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof J){let f=this._def.unknownKeys;if(f==="passthrough")for(let T of c)p.push({key:{status:"valid",value:T},value:{status:"valid",value:a.data[T]}});else if(f==="strict")c.length>0&&(m(a,{code:u.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let f=this._def.catchall;for(let T of c){let $=a.data[T];p.push({key:{status:"valid",value:T},value:f._parse(new q(a,$,a.path,T)),alwaysSet:T in a.data})}}return a.common.async?Promise.resolve().then(()=>te(this,null,function*(){let f=[];for(let T of p){let $=yield T.key,ut=yield T.value;f.push({key:$,value:ut,alwaysSet:T.alwaysSet})}return f})).then(f=>D.mergeObjectSync(r,f)):D.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new n(l(b(l({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,r)=>{var a,s,o,c;let p=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=_.errToObj(e).message)!==null&&c!==void 0?c:p}:{message:p}}}:{}))}strip(){return new n(b(l({},this._def),{unknownKeys:"strip"}))}passthrough(){return new n(b(l({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new n(b(l({},this._def),{shape:()=>l(l({},this._def.shape()),e)}))}merge(e){return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>l(l({},this._def.shape()),e._def.shape()),typeName:v.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new n(b(l({},this._def),{catchall:e}))}pick(e){let t={};return S.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new n(b(l({},this._def),{shape:()=>t}))}omit(e){let t={};return S.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new n(b(l({},this._def),{shape:()=>t}))}deepPartial(){return Ue(this)}partial(e){let t={};return S.objectKeys(this.shape).forEach(r=>{let a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new n(b(l({},this._def),{shape:()=>t}))}required(e){let t={};return S.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Y;)s=s._def.innerType;t[r]=s}}),new n(b(l({},this._def),{shape:()=>t}))}keyof(){return zn(S.objectKeys(this.shape))}};F.create=(n,e)=>new F(l({shape:()=>n,unknownKeys:"strip",catchall:J.create(),typeName:v.ZodObject},E(e)));F.strictCreate=(n,e)=>new F(l({shape:()=>n,unknownKeys:"strict",catchall:J.create(),typeName:v.ZodObject},E(e)));F.lazycreate=(n,e)=>new F(l({shape:n,unknownKeys:"strip",catchall:J.create(),typeName:v.ZodObject},E(e)));var be=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function a(s){for(let c of s)if(c.result.status==="valid")return c.result;for(let c of s)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;let o=s.map(c=>new H(c.ctx.common.issues));return m(t,{code:u.invalid_union,unionErrors:o}),x}if(t.common.async)return Promise.all(r.map(s=>te(this,null,function*(){let o=b(l({},t),{common:b(l({},t.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(a);{let s,o=[];for(let p of r){let f=b(l({},t),{common:b(l({},t.common),{issues:[]}),parent:null}),T=p._parseSync({data:t.data,path:t.path,parent:f});if(T.status==="valid")return T;T.status==="dirty"&&!s&&(s={result:T,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;let c=o.map(p=>new H(p));return m(t,{code:u.invalid_union,unionErrors:c}),x}}get options(){return this._def.options}};be.create=(n,e)=>new be(l({options:n,typeName:v.ZodUnion},E(e)));var ie=n=>n instanceof Ee?ie(n.schema):n instanceof B?ie(n.innerType()):n instanceof we?[n.value]:n instanceof ke?n.options:n instanceof Se?S.objectValues(n.enum):n instanceof Ae?ie(n._def.innerType):n instanceof ve?[void 0]:n instanceof Te?[null]:n instanceof Y?[void 0,...ie(n.unwrap())]:n instanceof re?[null,...ie(n.unwrap())]:n instanceof tt||n instanceof Re?ie(n.unwrap()):n instanceof Oe?ie(n._def.innerType):[],xt=class n extends w{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return m(t,{code:u.invalid_type,expected:h.object,received:t.parsedType}),x;let r=this.discriminator,a=t.data[r],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(m(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let s of t){let o=ie(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of o){if(a.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);a.set(c,s)}}return new n(l({typeName:v.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a},E(r)))}};function qt(n,e){let t=ue(n),r=ue(e);if(n===e)return{valid:!0,data:n};if(t===h.object&&r===h.object){let a=S.objectKeys(e),s=S.objectKeys(n).filter(c=>a.indexOf(c)!==-1),o=l(l({},n),e);for(let c of s){let p=qt(n[c],e[c]);if(!p.valid)return{valid:!1};o[c]=p.data}return{valid:!0,data:o}}else if(t===h.array&&r===h.array){if(n.length!==e.length)return{valid:!1};let a=[];for(let s=0;s<n.length;s++){let o=n[s],c=e[s],p=qt(o,c);if(!p.valid)return{valid:!1};a.push(p.data)}return{valid:!0,data:a}}else return t===h.date&&r===h.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}var xe=class extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(s,o)=>{if(Gt(s)||Gt(o))return x;let c=qt(s.value,o.value);return c.valid?((Yt(s)||Yt(o))&&t.dirty(),{status:t.value,value:c.data}):(m(r,{code:u.invalid_intersection_types}),x)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};xe.create=(n,e,t)=>new xe(l({left:n,right:e,typeName:v.ZodIntersection},E(t)));var ne=class n extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.array)return m(r,{code:u.invalid_type,expected:h.array,received:r.parsedType}),x;if(r.data.length<this._def.items.length)return m(r,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&r.data.length>this._def.items.length&&(m(r,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...r.data].map((o,c)=>{let p=this._def.items[c]||this._def.rest;return p?p._parse(new q(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>D.mergeArray(t,o)):D.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new n(b(l({},this._def),{rest:e}))}};ne.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ne(l({items:n,typeName:v.ZodTuple,rest:null},E(e)))};var Et=class n extends w{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return m(r,{code:u.invalid_type,expected:h.object,received:r.parsedType}),x;let a=[],s=this._def.keyType,o=this._def.valueType;for(let c in r.data)a.push({key:s._parse(new q(r,c,r.path,c)),value:o._parse(new q(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?D.mergeObjectAsync(t,a):D.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof w?new n(l({keyType:e,valueType:t,typeName:v.ZodRecord},E(r))):new n(l({keyType:de.create(),valueType:e,typeName:v.ZodRecord},E(t)))}},We=class extends w{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.map)return m(r,{code:u.invalid_type,expected:h.map,received:r.parsedType}),x;let a=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([c,p],f)=>({key:a._parse(new q(r,c,r.path,[f,"key"])),value:s._parse(new q(r,p,r.path,[f,"value"]))}));if(r.common.async){let c=new Map;return Promise.resolve().then(()=>te(this,null,function*(){for(let p of o){let f=yield p.key,T=yield p.value;if(f.status==="aborted"||T.status==="aborted")return x;(f.status==="dirty"||T.status==="dirty")&&t.dirty(),c.set(f.value,T.value)}return{status:t.value,value:c}}))}else{let c=new Map;for(let p of o){let f=p.key,T=p.value;if(f.status==="aborted"||T.status==="aborted")return x;(f.status==="dirty"||T.status==="dirty")&&t.dirty(),c.set(f.value,T.value)}return{status:t.value,value:c}}}};We.create=(n,e,t)=>new We(l({valueType:e,keyType:n,typeName:v.ZodMap},E(t)));var Fe=class n extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.set)return m(r,{code:u.invalid_type,expected:h.set,received:r.parsedType}),x;let a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(m(r,{code:u.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(m(r,{code:u.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let s=this._def.valueType;function o(p){let f=new Set;for(let T of p){if(T.status==="aborted")return x;T.status==="dirty"&&t.dirty(),f.add(T.value)}return{status:t.value,value:f}}let c=[...r.data.values()].map((p,f)=>s._parse(new q(r,p,r.path,f)));return r.common.async?Promise.all(c).then(p=>o(p)):o(c)}min(e,t){return new n(b(l({},this._def),{minSize:{value:e,message:_.toString(t)}}))}max(e,t){return new n(b(l({},this._def),{maxSize:{value:e,message:_.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Fe.create=(n,e)=>new Fe(l({valueType:n,minSize:null,maxSize:null,typeName:v.ZodSet},E(e)));var wt=class n extends w{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return m(t,{code:u.invalid_type,expected:h.function,received:t.parsedType}),x;function r(c,p){return Tt({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,vt(),Ze].filter(f=>!!f),issueData:{code:u.invalid_arguments,argumentsError:p}})}function a(c,p){return Tt({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,vt(),Ze].filter(f=>!!f),issueData:{code:u.invalid_return_type,returnTypeError:p}})}let s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof pe){let c=this;return j(function(...p){return te(this,null,function*(){let f=new H([]),T=yield c._def.args.parseAsync(p,s).catch(le=>{throw f.addIssue(r(p,le)),f}),$=yield Reflect.apply(o,this,T);return yield c._def.returns._def.type.parseAsync($,s).catch(le=>{throw f.addIssue(a($,le)),f})})})}else{let c=this;return j(function(...p){let f=c._def.args.safeParse(p,s);if(!f.success)throw new H([r(p,f.error)]);let T=Reflect.apply(o,this,f.data),$=c._def.returns.safeParse(T,s);if(!$.success)throw new H([a(T,$.error)]);return $.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new n(b(l({},this._def),{args:ne.create(e).rest(oe.create())}))}returns(e){return new n(b(l({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new n(l({args:e||ne.create([]).rest(oe.create()),returns:t||oe.create(),typeName:v.ZodFunction},E(r)))}},Ee=class extends w{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Ee.create=(n,e)=>new Ee(l({getter:n,typeName:v.ZodLazy},E(e)));var we=class extends w{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return m(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}};we.create=(n,e)=>new we(l({value:n,typeName:v.ZodLiteral},E(e)));function zn(n,e){return new ke(l({values:n,typeName:v.ZodEnum},E(e)))}var ke=class n extends w{constructor(){super(...arguments),Je.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return m(t,{expected:S.joinValues(r),received:t.parsedType,code:u.invalid_type}),x}if(bt(this,Je,"f")||Pn(this,Je,new Set(this._def.values),"f"),!bt(this,Je,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return m(t,{received:t.data,code:u.invalid_enum_value,options:r}),x}return j(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return n.create(e,l(l({},this._def),t))}exclude(e,t=this._def){return n.create(this.options.filter(r=>!e.includes(r)),l(l({},this._def),t))}};Je=new WeakMap;ke.create=zn;var Se=class extends w{constructor(){super(...arguments),Ke.set(this,void 0)}_parse(e){let t=S.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==h.string&&r.parsedType!==h.number){let a=S.objectValues(t);return m(r,{expected:S.joinValues(a),received:r.parsedType,code:u.invalid_type}),x}if(bt(this,Ke,"f")||Pn(this,Ke,new Set(S.getValidEnumValues(this._def.values)),"f"),!bt(this,Ke,"f").has(e.data)){let a=S.objectValues(t);return m(r,{received:r.data,code:u.invalid_enum_value,options:a}),x}return j(e.data)}get enum(){return this._def.values}};Ke=new WeakMap;Se.create=(n,e)=>new Se(l({values:n,typeName:v.ZodNativeEnum},E(e)));var pe=class extends w{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.promise&&t.common.async===!1)return m(t,{code:u.invalid_type,expected:h.promise,received:t.parsedType}),x;let r=t.parsedType===h.promise?t.data:Promise.resolve(t.data);return j(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}};pe.create=(n,e)=>new pe(l({type:n,typeName:v.ZodPromise},E(e)));var B=class extends w{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===v.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{m(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){let o=a.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(c=>te(this,null,function*(){if(t.value==="aborted")return x;let p=yield this._def.schema._parseAsync({data:c,path:r.path,parent:r});return p.status==="aborted"?x:p.status==="dirty"||t.value==="dirty"?je(p.value):p}));{if(t.value==="aborted")return x;let c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?x:c.status==="dirty"||t.value==="dirty"?je(c.value):c}}if(a.type==="refinement"){let o=c=>{let p=a.refinement(c,s);if(r.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){let c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?x:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?x:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(a.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qe(o))return o;let c=a.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Qe(o)?Promise.resolve(a.transform(o.value,s)).then(c=>({status:t.value,value:c})):o);S.assertNever(a)}};B.create=(n,e,t)=>new B(l({schema:n,typeName:v.ZodEffects,effect:e},E(t)));B.createWithPreprocess=(n,e,t)=>new B(l({schema:e,effect:{type:"preprocess",transform:n},typeName:v.ZodEffects},E(t)));var Y=class extends w{_parse(e){return this._getType(e)===h.undefined?j(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Y.create=(n,e)=>new Y(l({innerType:n,typeName:v.ZodOptional},E(e)));var re=class extends w{_parse(e){return this._getType(e)===h.null?j(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};re.create=(n,e)=>new re(l({innerType:n,typeName:v.ZodNullable},E(e)));var Ae=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===h.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Ae.create=(n,e)=>new Ae(l({innerType:n,typeName:v.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},E(e)));var Oe=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=b(l({},t),{common:b(l({},t.common),{issues:[]})}),a=this._def.innerType._parse({data:r.data,path:r.path,parent:l({},r)});return et(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new H(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new H(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Oe.create=(n,e)=>new Oe(l({innerType:n,typeName:v.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},E(e)));var Ve=class extends w{_parse(e){if(this._getType(e)!==h.nan){let r=this._getOrReturnCtx(e);return m(r,{code:u.invalid_type,expected:h.nan,received:r.parsedType}),x}return{status:"valid",value:e.data}}};Ve.create=n=>new Ve(l({typeName:v.ZodNaN},E(n)));var Qr=Symbol("zod_brand"),tt=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},nt=class n extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return te(this,null,function*(){let s=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?x:s.status==="dirty"?(t.dirty(),je(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})});{let a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?x:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new n({in:e,out:t,typeName:v.ZodPipeline})}},Re=class extends w{_parse(e){let t=this._def.innerType._parse(e),r=a=>(Qe(a)&&(a.value=Object.freeze(a.value)),a);return et(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}};Re.create=(n,e)=>new Re(l({innerType:n,typeName:v.ZodReadonly},E(e)));function $n(n,e={},t){return n?fe.create().superRefine((r,a)=>{var s,o;if(!n(r)){let c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,p=(o=(s=c.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,f=typeof c=="string"?{message:c}:c;a.addIssue(b(l({code:"custom"},f),{fatal:p}))}}):fe.create()}var ea={object:F.lazycreate},v;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(v||(v={}));var ta=(n,e={message:`Input not instance of ${n.name}`})=>$n(t=>t instanceof n,e),Wn=de.create,Fn=he.create,na=Ve.create,ra=ge.create,Vn=_e.create,aa=ye.create,sa=ze.create,ia=ve.create,oa=Te.create,ca=fe.create,la=oe.create,ua=J.create,da=$e.create,fa=ce.create,pa=F.create,ma=F.strictCreate,ha=be.create,ga=xt.create,_a=xe.create,ya=ne.create,va=Et.create,Ta=We.create,ba=Fe.create,xa=wt.create,Ea=Ee.create,wa=we.create,ka=ke.create,Sa=Se.create,Aa=pe.create,Mn=B.create,Oa=Y.create,Ra=re.create,Ia=B.createWithPreprocess,Ca=nt.create,Na=()=>Wn().optional(),La=()=>Fn().optional(),Ma=()=>Vn().optional(),Da={string:n=>de.create(b(l({},n),{coerce:!0})),number:n=>he.create(b(l({},n),{coerce:!0})),boolean:n=>_e.create(b(l({},n),{coerce:!0})),bigint:n=>ge.create(b(l({},n),{coerce:!0})),date:n=>ye.create(b(l({},n),{coerce:!0}))},Pa=x,R=Object.freeze({__proto__:null,defaultErrorMap:Ze,setErrorMap:Pr,getErrorMap:vt,makeIssue:Tt,EMPTY_PATH:Ur,addIssueToContext:m,ParseStatus:D,INVALID:x,DIRTY:je,OK:j,isAborted:Gt,isDirty:Yt,isValid:Qe,isAsync:et,get util(){return S},get objectUtil(){return Bt},ZodParsedType:h,getParsedType:ue,ZodType:w,datetimeRegex:Zn,ZodString:de,ZodNumber:he,ZodBigInt:ge,ZodBoolean:_e,ZodDate:ye,ZodSymbol:ze,ZodUndefined:ve,ZodNull:Te,ZodAny:fe,ZodUnknown:oe,ZodNever:J,ZodVoid:$e,ZodArray:ce,ZodObject:F,ZodUnion:be,ZodDiscriminatedUnion:xt,ZodIntersection:xe,ZodTuple:ne,ZodRecord:Et,ZodMap:We,ZodSet:Fe,ZodFunction:wt,ZodLazy:Ee,ZodLiteral:we,ZodEnum:ke,ZodNativeEnum:Se,ZodPromise:pe,ZodEffects:B,ZodTransformer:B,ZodOptional:Y,ZodNullable:re,ZodDefault:Ae,ZodCatch:Oe,ZodNaN:Ve,BRAND:Qr,ZodBranded:tt,ZodPipeline:nt,ZodReadonly:Re,custom:$n,Schema:w,ZodSchema:w,late:ea,get ZodFirstPartyTypeKind(){return v},coerce:Da,any:ca,array:fa,bigint:ra,boolean:Vn,date:aa,discriminatedUnion:ga,effect:Mn,enum:ka,function:xa,instanceof:ta,intersection:_a,lazy:Ea,literal:wa,map:Ta,nan:na,nativeEnum:Sa,never:ua,null:oa,nullable:Ra,number:Fn,object:pa,oboolean:Ma,onumber:La,optional:Oa,ostring:Na,pipeline:Ca,preprocess:Ia,promise:Aa,record:va,set:ba,strictObject:ma,string:Wn,symbol:sa,transformer:Mn,tuple:ya,undefined:ia,union:ha,unknown:la,void:da,NEVER:Pa,ZodIssueCode:u,quotelessJson:Dr,ZodError:H});var Hn={USD:"USD",AED:"AED"};var Bn={data:"data",initialData:"initial-data",handshake:"handshake"};var{entries:nr,setPrototypeOf:Gn,isFrozen:Ua,getPrototypeOf:ja,getOwnPropertyDescriptor:Za}=Object,{freeze:z,seal:X,create:rr}=Object,{apply:tn,construct:nn}=typeof Reflect!="undefined"&&Reflect;z||(z=function(e){return e});X||(X=function(e){return e});tn||(tn=function(e,t,r){return e.apply(t,r)});nn||(nn=function(e,t){return new e(...t)});var kt=G(Array.prototype.forEach),Yn=G(Array.prototype.pop),rt=G(Array.prototype.push),At=G(String.prototype.toLowerCase),Xt=G(String.prototype.toString),qn=G(String.prototype.match),at=G(String.prototype.replace),za=G(String.prototype.indexOf),$a=G(String.prototype.trim),K=G(Object.prototype.hasOwnProperty),Z=G(RegExp.prototype.test),st=Wa(TypeError);function G(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return tn(n,e,r)}}function Wa(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return nn(n,t)}}function k(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:At;Gn&&Gn(n,null);let r=e.length;for(;r--;){let a=e[r];if(typeof a=="string"){let s=t(a);s!==a&&(Ua(e)||(e[r]=s),a=s)}n[a]=!0}return n}function Fa(n){for(let e=0;e<n.length;e++)K(n,e)||(n[e]=null);return n}function Ie(n){let e=rr(null);for(let[t,r]of nr(n))K(n,t)&&(Array.isArray(r)?e[t]=Fa(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=Ie(r):e[t]=r);return e}function it(n,e){for(;n!==null;){let r=Za(n,e);if(r){if(r.get)return G(r.get);if(typeof r.value=="function")return G(r.value)}n=ja(n)}function t(){return null}return t}var Xn=z(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jt=z(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kt=z(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Va=z(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qt=z(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ha=z(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jn=z(["#text"]),Kn=z(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),en=z(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Qn=z(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),St=z(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ba=X(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ga=X(/<%[\w\W]*|[\w\W]*%>/gm),Ya=X(/\${[\w\W]*}/gm),qa=X(/^data-[\-\w.\u00B7-\uFFFF]/),Xa=X(/^aria-[\-\w]+$/),ar=X(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ja=X(/^(?:\w+script|data):/i),Ka=X(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sr=X(/^html$/i),Qa=X(/^[a-z][.\w]*(-[.\w]+)+$/i),er=Object.freeze({__proto__:null,ARIA_ATTR:Xa,ATTR_WHITESPACE:Ka,CUSTOM_ELEMENT:Qa,DATA_ATTR:qa,DOCTYPE_NAME:sr,ERB_EXPR:Ga,IS_ALLOWED_URI:ar,IS_SCRIPT_OR_DATA:Ja,MUSTACHE_EXPR:Ba,TMPLIT_EXPR:Ya}),ot={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},es=function(){return typeof window=="undefined"?null:window},ts=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(r=t.getAttribute(a));let s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+s+" could not be created."),null}},tr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ir(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:es(),e=y=>ir(y);if(e.version="3.2.2",e.removed=[],!n||!n.document||n.document.nodeType!==ot.document)return e.isSupported=!1,e;let{document:t}=n,r=t,a=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:c,Element:p,NodeFilter:f,NamedNodeMap:T=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:$,DOMParser:ut,trustedTypes:le}=n,He=p.prototype,ur=it(He,"cloneNode"),dr=it(He,"remove"),fr=it(He,"nextSibling"),pr=it(He,"childNodes"),dt=it(He,"parentNode");if(typeof o=="function"){let y=t.createElement("template");y.content&&y.content.ownerDocument&&(t=y.content.ownerDocument)}let P,Be="",{implementation:Ct,createNodeIterator:mr,createDocumentFragment:hr,getElementsByTagName:gr}=t,{importNode:_r}=r,V=tr();e.isSupported=typeof nr=="function"&&typeof dt=="function"&&Ct&&Ct.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Nt,ERB_EXPR:Lt,TMPLIT_EXPR:Mt,DATA_ATTR:yr,ARIA_ATTR:vr,IS_SCRIPT_OR_DATA:Tr,ATTR_WHITESPACE:an,CUSTOM_ELEMENT:br}=er,{IS_ALLOWED_URI:sn}=er,I=null,on=k({},[...Xn,...Jt,...Kt,...Qt,...Jn]),N=null,cn=k({},[...Kn,...en,...Qn,...St]),O=Object.seal(rr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ge=null,Dt=null,ln=!0,Pt=!0,un=!1,dn=!0,Ce=!1,Ut=!0,me=!1,jt=!1,Zt=!1,Ne=!1,ft=!1,pt=!1,fn=!0,pn=!1,xr="user-content-",zt=!0,Ye=!1,Le={},Me=null,mn=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),hn=null,gn=k({},["audio","video","img","source","image","track"]),$t=null,_n=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mt="http://www.w3.org/1998/Math/MathML",ht="http://www.w3.org/2000/svg",ae="http://www.w3.org/1999/xhtml",De=ae,Wt=!1,Ft=null,Er=k({},[mt,ht,ae],Xt),gt=k({},["mi","mo","mn","ms","mtext"]),_t=k({},["annotation-xml"]),wr=k({},["title","style","font","a","script"]),qe=null,kr=["application/xhtml+xml","text/html"],Sr="text/html",C=null,Pe=null,Ar=t.createElement("form"),yn=function(i){return i instanceof RegExp||i instanceof Function},Vt=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pe&&Pe===i)){if((!i||typeof i!="object")&&(i={}),i=Ie(i),qe=kr.indexOf(i.PARSER_MEDIA_TYPE)===-1?Sr:i.PARSER_MEDIA_TYPE,C=qe==="application/xhtml+xml"?Xt:At,I=K(i,"ALLOWED_TAGS")?k({},i.ALLOWED_TAGS,C):on,N=K(i,"ALLOWED_ATTR")?k({},i.ALLOWED_ATTR,C):cn,Ft=K(i,"ALLOWED_NAMESPACES")?k({},i.ALLOWED_NAMESPACES,Xt):Er,$t=K(i,"ADD_URI_SAFE_ATTR")?k(Ie(_n),i.ADD_URI_SAFE_ATTR,C):_n,hn=K(i,"ADD_DATA_URI_TAGS")?k(Ie(gn),i.ADD_DATA_URI_TAGS,C):gn,Me=K(i,"FORBID_CONTENTS")?k({},i.FORBID_CONTENTS,C):mn,Ge=K(i,"FORBID_TAGS")?k({},i.FORBID_TAGS,C):{},Dt=K(i,"FORBID_ATTR")?k({},i.FORBID_ATTR,C):{},Le=K(i,"USE_PROFILES")?i.USE_PROFILES:!1,ln=i.ALLOW_ARIA_ATTR!==!1,Pt=i.ALLOW_DATA_ATTR!==!1,un=i.ALLOW_UNKNOWN_PROTOCOLS||!1,dn=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ce=i.SAFE_FOR_TEMPLATES||!1,Ut=i.SAFE_FOR_XML!==!1,me=i.WHOLE_DOCUMENT||!1,Ne=i.RETURN_DOM||!1,ft=i.RETURN_DOM_FRAGMENT||!1,pt=i.RETURN_TRUSTED_TYPE||!1,Zt=i.FORCE_BODY||!1,fn=i.SANITIZE_DOM!==!1,pn=i.SANITIZE_NAMED_PROPS||!1,zt=i.KEEP_CONTENT!==!1,Ye=i.IN_PLACE||!1,sn=i.ALLOWED_URI_REGEXP||ar,De=i.NAMESPACE||ae,gt=i.MATHML_TEXT_INTEGRATION_POINTS||gt,_t=i.HTML_INTEGRATION_POINTS||_t,O=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&yn(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(O.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&yn(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(O.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(O.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ce&&(Pt=!1),ft&&(Ne=!0),Le&&(I=k({},Jn),N=[],Le.html===!0&&(k(I,Xn),k(N,Kn)),Le.svg===!0&&(k(I,Jt),k(N,en),k(N,St)),Le.svgFilters===!0&&(k(I,Kt),k(N,en),k(N,St)),Le.mathMl===!0&&(k(I,Qt),k(N,Qn),k(N,St))),i.ADD_TAGS&&(I===on&&(I=Ie(I)),k(I,i.ADD_TAGS,C)),i.ADD_ATTR&&(N===cn&&(N=Ie(N)),k(N,i.ADD_ATTR,C)),i.ADD_URI_SAFE_ATTR&&k($t,i.ADD_URI_SAFE_ATTR,C),i.FORBID_CONTENTS&&(Me===mn&&(Me=Ie(Me)),k(Me,i.FORBID_CONTENTS,C)),zt&&(I["#text"]=!0),me&&k(I,["html","head","body"]),I.table&&(k(I,["tbody"]),delete Ge.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw st('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw st('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=i.TRUSTED_TYPES_POLICY,Be=P.createHTML("")}else P===void 0&&(P=ts(le,a)),P!==null&&typeof Be=="string"&&(Be=P.createHTML(""));z&&z(i),Pe=i}},vn=k({},[...Jt,...Kt,...Va]),Tn=k({},[...Qt,...Ha]),Or=function(i){let d=dt(i);(!d||!d.tagName)&&(d={namespaceURI:De,tagName:"template"});let g=At(i.tagName),A=At(d.tagName);return Ft[i.namespaceURI]?i.namespaceURI===ht?d.namespaceURI===ae?g==="svg":d.namespaceURI===mt?g==="svg"&&(A==="annotation-xml"||gt[A]):!!vn[g]:i.namespaceURI===mt?d.namespaceURI===ae?g==="math":d.namespaceURI===ht?g==="math"&&_t[A]:!!Tn[g]:i.namespaceURI===ae?d.namespaceURI===ht&&!_t[A]||d.namespaceURI===mt&&!gt[A]?!1:!Tn[g]&&(wr[g]||!vn[g]):!!(qe==="application/xhtml+xml"&&Ft[i.namespaceURI]):!1},Q=function(i){rt(e.removed,{element:i});try{dt(i).removeChild(i)}catch(d){dr(i)}},yt=function(i,d){try{rt(e.removed,{attribute:d.getAttributeNode(i),from:d})}catch(g){rt(e.removed,{attribute:null,from:d})}if(d.removeAttribute(i),i==="is")if(Ne||ft)try{Q(d)}catch(g){}else try{d.setAttribute(i,"")}catch(g){}},bn=function(i){let d=null,g=null;if(Zt)i="<remove></remove>"+i;else{let L=qn(i,/^[\r\n\t ]+/);g=L&&L[0]}qe==="application/xhtml+xml"&&De===ae&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");let A=P?P.createHTML(i):i;if(De===ae)try{d=new ut().parseFromString(A,qe)}catch(L){}if(!d||!d.documentElement){d=Ct.createDocument(De,"template",null);try{d.documentElement.innerHTML=Wt?Be:A}catch(L){}}let M=d.body||d.documentElement;return i&&g&&M.insertBefore(t.createTextNode(g),M.childNodes[0]||null),De===ae?gr.call(d,me?"html":"body")[0]:me?d.documentElement:M},xn=function(i){return mr.call(i.ownerDocument||i,i,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},En=function(i){return i instanceof $&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof T)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},wn=function(i){return typeof c=="function"&&i instanceof c};function se(y,i,d){kt(y,g=>{g.call(e,i,d,Pe)})}let kn=function(i){let d=null;if(se(V.beforeSanitizeElements,i,null),En(i))return Q(i),!0;let g=C(i.nodeName);if(se(V.uponSanitizeElement,i,{tagName:g,allowedTags:I}),i.hasChildNodes()&&!wn(i.firstElementChild)&&Z(/<[/\w]/g,i.innerHTML)&&Z(/<[/\w]/g,i.textContent)||i.nodeType===ot.progressingInstruction||Ut&&i.nodeType===ot.comment&&Z(/<[/\w]/g,i.data))return Q(i),!0;if(!I[g]||Ge[g]){if(!Ge[g]&&An(g)&&(O.tagNameCheck instanceof RegExp&&Z(O.tagNameCheck,g)||O.tagNameCheck instanceof Function&&O.tagNameCheck(g)))return!1;if(zt&&!Me[g]){let A=dt(i)||i.parentNode,M=pr(i)||i.childNodes;if(M&&A){let L=M.length;for(let W=L-1;W>=0;--W){let ee=ur(M[W],!0);ee.__removalCount=(i.__removalCount||0)+1,A.insertBefore(ee,fr(i))}}}return Q(i),!0}return i instanceof p&&!Or(i)||(g==="noscript"||g==="noembed"||g==="noframes")&&Z(/<\/no(script|embed|frames)/i,i.innerHTML)?(Q(i),!0):(Ce&&i.nodeType===ot.text&&(d=i.textContent,kt([Nt,Lt,Mt],A=>{d=at(d,A," ")}),i.textContent!==d&&(rt(e.removed,{element:i.cloneNode()}),i.textContent=d)),se(V.afterSanitizeElements,i,null),!1)},Sn=function(i,d,g){if(fn&&(d==="id"||d==="name")&&(g in t||g in Ar))return!1;if(!(Pt&&!Dt[d]&&Z(yr,d))){if(!(ln&&Z(vr,d))){if(!N[d]||Dt[d]){if(!(An(i)&&(O.tagNameCheck instanceof RegExp&&Z(O.tagNameCheck,i)||O.tagNameCheck instanceof Function&&O.tagNameCheck(i))&&(O.attributeNameCheck instanceof RegExp&&Z(O.attributeNameCheck,d)||O.attributeNameCheck instanceof Function&&O.attributeNameCheck(d))||d==="is"&&O.allowCustomizedBuiltInElements&&(O.tagNameCheck instanceof RegExp&&Z(O.tagNameCheck,g)||O.tagNameCheck instanceof Function&&O.tagNameCheck(g))))return!1}else if(!$t[d]){if(!Z(sn,at(g,an,""))){if(!((d==="src"||d==="xlink:href"||d==="href")&&i!=="script"&&za(g,"data:")===0&&hn[i])){if(!(un&&!Z(Tr,at(g,an,"")))){if(g)return!1}}}}}}return!0},An=function(i){return i!=="annotation-xml"&&qn(i,br)},On=function(i){se(V.beforeSanitizeAttributes,i,null);let{attributes:d}=i;if(!d)return;let g={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N,forceKeepAttr:void 0},A=d.length;for(;A--;){let M=d[A],{name:L,namespaceURI:W,value:ee}=M,Xe=C(L),U=L==="value"?ee:$a(ee);if(g.attrName=Xe,g.attrValue=U,g.keepAttr=!0,g.forceKeepAttr=void 0,se(V.uponSanitizeAttribute,i,g),U=g.attrValue,pn&&(Xe==="id"||Xe==="name")&&(yt(L,i),U=xr+U),Ut&&Z(/((--!?|])>)|<\/(style|title)/i,U)){yt(L,i);continue}if(g.forceKeepAttr||(yt(L,i),!g.keepAttr))continue;if(!dn&&Z(/\/>/i,U)){yt(L,i);continue}Ce&&kt([Nt,Lt,Mt],In=>{U=at(U,In," ")});let Rn=C(i.nodeName);if(Sn(Rn,Xe,U)){if(P&&typeof le=="object"&&typeof le.getAttributeType=="function"&&!W)switch(le.getAttributeType(Rn,Xe)){case"TrustedHTML":{U=P.createHTML(U);break}case"TrustedScriptURL":{U=P.createScriptURL(U);break}}try{W?i.setAttributeNS(W,L,U):i.setAttribute(L,U),En(i)?Q(i):Yn(e.removed)}catch(In){}}}se(V.afterSanitizeAttributes,i,null)},Rr=function y(i){let d=null,g=xn(i);for(se(V.beforeSanitizeShadowDOM,i,null);d=g.nextNode();)se(V.uponSanitizeShadowNode,d,null),!kn(d)&&(d.content instanceof s&&y(d.content),On(d));se(V.afterSanitizeShadowDOM,i,null)};return e.sanitize=function(y){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=null,g=null,A=null,M=null;if(Wt=!y,Wt&&(y="<!-->"),typeof y!="string"&&!wn(y))if(typeof y.toString=="function"){if(y=y.toString(),typeof y!="string")throw st("dirty is not a string, aborting")}else throw st("toString is not a function");if(!e.isSupported)return y;if(jt||Vt(i),e.removed=[],typeof y=="string"&&(Ye=!1),Ye){if(y.nodeName){let ee=C(y.nodeName);if(!I[ee]||Ge[ee])throw st("root node is forbidden and cannot be sanitized in-place")}}else if(y instanceof c)d=bn("<!---->"),g=d.ownerDocument.importNode(y,!0),g.nodeType===ot.element&&g.nodeName==="BODY"||g.nodeName==="HTML"?d=g:d.appendChild(g);else{if(!Ne&&!Ce&&!me&&y.indexOf("<")===-1)return P&&pt?P.createHTML(y):y;if(d=bn(y),!d)return Ne?null:pt?Be:""}d&&Zt&&Q(d.firstChild);let L=xn(Ye?y:d);for(;A=L.nextNode();)kn(A)||(A.content instanceof s&&Rr(A.content),On(A));if(Ye)return y;if(Ne){if(ft)for(M=hr.call(d.ownerDocument);d.firstChild;)M.appendChild(d.firstChild);else M=d;return(N.shadowroot||N.shadowrootmode)&&(M=_r.call(r,M,!0)),M}let W=me?d.outerHTML:d.innerHTML;return me&&I["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&Z(sr,d.ownerDocument.doctype.name)&&(W="<!DOCTYPE "+d.ownerDocument.doctype.name+`>
`+W),Ce&&kt([Nt,Lt,Mt],ee=>{W=at(W,ee," ")}),P&&pt?P.createHTML(W):W},e.setConfig=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vt(y),jt=!0},e.clearConfig=function(){Pe=null,jt=!1},e.isValidAttribute=function(y,i,d){Pe||Vt({});let g=C(y),A=C(i);return Sn(g,A,d)},e.addHook=function(y,i){typeof i=="function"&&rt(V[y],i)},e.removeHook=function(y){return Yn(V[y])},e.removeHooks=function(y){V[y]=[]},e.removeAllHooks=function(){V=tr()},e}var or=ir();function ct(n="URLs are not allowed"){let e=/(?:https?:)?\/\/|\b[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,63}\b/i;return R.string().refine(t=>!e.test(t),{message:n})}function lt(n="HTML is not allowed"){return R.string().refine(e=>or.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]})===e,{message:n})}function Ot(n,e,t=`Input must be between ${n} and ${e} characters`){return R.string().min(n,`Must be at least ${n} characters`).max(e,t)}function Rt(n="Numbers are not allowed"){return R.string().regex(/^[^0-9]*$/,n)}function It(n="Special characters are not allowed"){return R.string().regex(/^[^<>/{}[\]"'`\\;()]*$/,n)}var cr=R.object({type:R.enum([Bn.data]),data:R.object({prefilledCustomer:R.object({first_name:R.string().pipe(Ot(1,100)).pipe(ct()).pipe(lt()).pipe(Rt()).pipe(It()).optional(),last_name:R.string().pipe(Ot(1,100)).pipe(ct()).pipe(lt()).pipe(Rt()).pipe(It()).optional(),email:R.string().email().optional()}).optional(),amount:R.number().min(0).optional(),currency:R.string().pipe(ct()).pipe(lt()).pipe(Rt()).refine(n=>Object.values(Hn).includes(n),{message:"Invalid currency"}).optional(),external_id:R.string().pipe(Ot(1,100)).pipe(ct()).pipe(lt()).pipe(It()).optional()}).strict()});var ns=["http:","https:"],rs=["javascript:","data:","vbscript:","file:","about:","blob:"],lr=R.string().url().transform(n=>{try{return new URL(n)}catch(e){return null}}).refine(n=>n!==null&&ns.includes(n.protocol),{message:"URL must use either HTTP or HTTPS protocol"}).refine(n=>n!==null&&!rs.some(e=>n.href.toLowerCase().includes(e)),{message:"URL contains blocked protocol or malicious content"}).refine(n=>(n==null?void 0:n.hostname.includes("."))&&n.hostname.length>3,{message:"Invalid domain format"}).transform(n=>n==null?void 0:n.href);var rn=class{constructor(e){this._defaultStyles={backgroundColor:"transparent",width:"100%",height:"100%",border:"0",display:"block",zIndex:99999};var r;let t=(r=window==null?void 0:window.location)==null?void 0:r.href;if(!t)throw new Error("Unable to determine current URL");this._consumerUrl=encodeURIComponent(t),this._rootId=e.rootId,this._paymentLinkUrl=e.paymentLinkUrl,this._iframeId=e.iframeId||"iframe-mamo-checkout"}addIframeToWebsite(){let e=document.getElementById(this._rootId);if(!e)throw new Error(`Element with ID ${this._rootId} not found`);try{let t=document.createElement("iframe");t.onerror=()=>{console.error("Failed to load iframe - X-Frame-Options may be blocking embedding"),window.open(this._paymentLinkUrl,"_blank")},t.onload=()=>{try{if(!t.contentWindow)throw new Error("Cannot access iframe content");this._handshakeEvent(),window.addEventListener("message",s=>this.handleIframeMessage(s,this.getDomain(this._paymentLinkUrl)),!1)}catch(a){console.error("Iframe blocked by X-Frame-Options, redirecting..."),window.open(this._paymentLinkUrl,"_blank")}};let r={crossorigin:"anonymous",id:this._iframeId,allowtransparency:"true",allow:"payment",sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-top-navigation-by-user-activation",src:`${this._paymentLinkUrl}?consumer=${this._consumerUrl}`};for(let[a,s]of Object.entries(r))t.setAttribute(a,s);Object.assign(t.style,this._defaultStyles),e.appendChild(t)}catch(t){console.error("Failed to create iframe:",t),window.open(this._paymentLinkUrl,"_blank")}}sendDataToIframe(e){var a;console.log("Sending data to iframe:",e);let t=cr.safeParse(e);if(!t.success)throw new Error(`[Send Data To Iframe] Invalid schema for incoming data: ${JSON.stringify(t.error.errors)}`);if(!this._iframe)return;let r=new URL(this._iframe.src).origin;(a=this._iframe.contentWindow)==null||a.postMessage(t.data,r)}getDomain(e){try{return new URL(e).origin}catch(t){throw new Error("Invalid URL provided")}}handleIframeMessage(e,t){var a,s,o;if(e.origin!==t||!this._iframe)return;switch(((a=e.data)==null?void 0:a.type)||e.data){case"closeIframe":case"checkout-complete":this._iframe.style.display="none";break;case"connectionEstablished":break;default:if(((s=e.data)==null?void 0:s.type)==="confirmation_required"&&((o=e.data)!=null&&o.payload)){this._iframe.style.display="none";let c=e.data.payload;this.isValidUrl(c)&&window.location.replace(c)}}}_handshakeEvent(){var e;this._iframe&&((e=this._iframe.contentWindow)==null||e.postMessage({type:"handshake",origin:window.location.origin},this.getDomain(this._iframe.src)))}isValidUrl(e){try{let t=lr.safeParse(e);if(!t.success)return!1;let r=new URL(t.data);return!["javascript:","data:"].includes(r.protocol)}catch(t){return!1}}get _iframe(){return document.getElementById(this._iframeId)}};window.MamoPay=rn;})();
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.2/LICENSE *)
*/
//# sourceMappingURL=checkout-inline.min.js.map
