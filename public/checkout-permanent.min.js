(()=>{var Mr=Object.defineProperty,Lr=Object.defineProperties;var Pr=Object.getOwnPropertyDescriptors;var Zn=Object.getOwnPropertySymbols;var Dr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable;var zn=(n,e,t)=>e in n?Mr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l=(n,e)=>{for(var t in e||(e={}))Dr.call(e,t)&&zn(n,t,e[t]);if(Zn)for(var t of Zn(e))Ur.call(e,t)&&zn(n,t,e[t]);return n},b=(n,e)=>Lr(n,Pr(e));var ne=(n,e,t)=>new Promise((r,a)=>{var s=m=>{try{c(t.next(m))}catch(u){a(u)}},o=m=>{try{c(t.throw(m))}catch(u){a(u)}},c=m=>m.done?r(m.value):Promise.resolve(m.value).then(s,o);c((t=t.apply(n,e)).next())});var S;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{let s={};for(let o of a)s[o]=o;return s},n.getValidEnumValues=a=>{let s=n.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(let c of s)o[c]=a[c];return n.objectValues(o)},n.objectValues=a=>n.objectKeys(a).map(function(s){return a[s]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let s=[];for(let o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},n.find=(a,s)=>{for(let o of a)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(S||(S={}));var en;(function(n){n.mergeShapes=(e,t)=>l(l({},e),t)})(en||(en={}));var h=S.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fe=n=>{switch(typeof n){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(n)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(n)?h.array:n===null?h.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?h.promise:typeof Map!="undefined"&&n instanceof Map?h.map:typeof Set!="undefined"&&n instanceof Set?h.set:typeof Date!="undefined"&&n instanceof Date?h.date:h.object;default:return h.unknown}},d=S.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jr=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:"),W=class n extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(s){return s.message},r={_errors:[]},a=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let c=r,m=0;for(;m<o.path.length;){let u=o.path[m];m===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(t(o))):c[u]=c[u]||{_errors:[]},c=c[u],m++}}};return a(this),r}static assert(e){if(!(e instanceof n))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,S.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};W.create=n=>new W(n);var He=(n,e)=>{let t;switch(n.code){case d.invalid_type:n.received===h.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case d.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,S.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:t=`Unrecognized key(s) in object: ${S.joinValues(n.keys,", ")}`;break;case d.invalid_union:t="Invalid input";break;case d.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${S.joinValues(n.options)}`;break;case d.invalid_enum_value:t=`Invalid enum value. Expected ${S.joinValues(n.options)}, received '${n.received}'`;break;case d.invalid_arguments:t="Invalid function arguments";break;case d.invalid_return_type:t="Invalid function return type";break;case d.invalid_date:t="Invalid date";break;case d.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:S.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case d.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case d.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case d.custom:t="Invalid input";break;case d.invalid_intersection_types:t="Intersection results could not be merged";break;case d.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case d.not_finite:t="Number must be finite";break;default:t=e.defaultError,S.assertNever(n)}return{message:t}},Vn=He;function Zr(n){Vn=n}function Ot(){return Vn}var Rt=n=>{let{data:e,path:t,errorMaps:r,issueData:a}=n,s=[...t,...a.path||[]],o=b(l({},a),{path:s});if(a.message!==void 0)return b(l({},a),{path:s,message:a.message});let c="",m=r.filter(u=>!!u).slice().reverse();for(let u of m)c=u(o,{data:e,defaultError:c}).message;return b(l({},a),{path:s,message:c})},zr=[];function p(n,e){let t=Ot(),r=Rt({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===He?void 0:He].filter(a=>!!a)});n.common.issues.push(r)}var U=class n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if(a.status==="aborted")return x;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,t){return ne(this,null,function*(){let r=[];for(let a of t){let s=yield a.key,o=yield a.value;r.push({key:s,value:o})}return n.mergeObjectSync(e,r)})}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return x;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value!="undefined"||a.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}},x=Object.freeze({status:"aborted"}),Ve=n=>({status:"dirty",value:n}),Z=n=>({status:"valid",value:n}),tn=n=>n.status==="aborted",nn=n=>n.status==="dirty",nt=n=>n.status==="valid",rt=n=>typeof Promise!="undefined"&&n instanceof Promise;function It(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Hn(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t}var _;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_||(_={}));var et,tt,q=class{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Fn=(n,e)=>{if(nt(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new W(n.common.issues);return this._error=t,this._error}}};function E(n){if(!n)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,c)=>{var m,u;let{message:v}=n;return o.code==="invalid_enum_value"?{message:v!=null?v:c.defaultError}:typeof c.data=="undefined"?{message:(m=v!=null?v:r)!==null&&m!==void 0?m:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(u=v!=null?v:t)!==null&&u!==void 0?u:c.defaultError}},description:a}}var w=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return fe(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:fe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new U,ctx:{common:e.parent.common,data:e.data,parsedType:fe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(rt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fe(e)},s=this._parseSync({data:e,path:a.path,parent:a});return Fn(a,s)}parseAsync(e,t){return ne(this,null,function*(){let r=yield this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error})}safeParseAsync(e,t){return ne(this,null,function*(){let r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fe(e)},a=this._parse({data:e,path:r.path,parent:r}),s=yield rt(a)?a:Promise.resolve(a);return Fn(r,s)})}refine(e,t){let r=a=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{let o=e(a),c=()=>s.addIssue(l({code:d.custom},r(a)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(m=>m?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new B({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Y.create(this,this._def)}nullable(){return ae.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return le.create(this,this._def)}promise(){return he.create(this,this._def)}or(e){return ke.create([this,e],this._def)}and(e){return Se.create(this,e,this._def)}transform(e){return new B(b(l({},E(this._def)),{schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new Ce(b(l({},E(this._def)),{innerType:this,defaultValue:t,typeName:T.ZodDefault}))}brand(){return new at(l({typeName:T.ZodBranded,type:this},E(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new Ne(b(l({},E(this._def)),{innerType:this,catchValue:t,typeName:T.ZodCatch}))}describe(e){let t=this.constructor;return new t(b(l({},this._def),{description:e}))}pipe(e){return st.create(this,e)}readonly(){return Me.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Fr=/^c[^\s-]{8,}$/i,$r=/^[0-9a-z]+$/,Vr=/^[0-9A-HJKMNP-TV-Z]{26}$/,Hr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wr=/^[a-z0-9_-]{21}$/i,Br=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Gr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Qt,qr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Jr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Wn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kr=new RegExp(`^${Wn}$`);function Bn(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Qr(n){return new RegExp(`^${Bn(n)}$`)}function Gn(n){let e=`${Wn}T${Bn(n)}`,t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ea(n,e){return!!((e==="v4"||!e)&&qr.test(n)||(e==="v6"||!e)&&Xr.test(n))}var me=class n extends w{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let s=this._getOrReturnCtx(e);return p(s,{code:d.invalid_type,expected:h.string,received:s.parsedType}),x}let r=new U,a;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),p(a,{code:d.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),p(a,{code:d.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,c=e.data.length<s.value;(o||c)&&(a=this._getOrReturnCtx(e,a),o?p(a,{code:d.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&p(a,{code:d.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Gr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"email",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Qt||(Qt=new RegExp(Yr,"u")),Qt.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"emoji",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Hr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"uuid",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Wr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"nanoid",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Fr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"cuid",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")$r.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"cuid2",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Vr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"ulid",code:d.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch(o){a=this._getOrReturnCtx(e,a),p(a,{validation:"url",code:d.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"regex",code:d.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),p(a,{code:d.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),p(a,{code:d.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),p(a,{code:d.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Gn(s).test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{code:d.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Kr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{code:d.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Qr(s).test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{code:d.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Br.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"duration",code:d.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?ea(e.data,s.version)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"ip",code:d.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Jr.test(e.data)||(a=this._getOrReturnCtx(e,a),p(a,{validation:"base64",code:d.invalid_string,message:s.message}),r.dirty()):S.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),l({validation:t,code:d.invalid_string},_.errToObj(r)))}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(l({kind:"email"},_.errToObj(e)))}url(e){return this._addCheck(l({kind:"url"},_.errToObj(e)))}emoji(e){return this._addCheck(l({kind:"emoji"},_.errToObj(e)))}uuid(e){return this._addCheck(l({kind:"uuid"},_.errToObj(e)))}nanoid(e){return this._addCheck(l({kind:"nanoid"},_.errToObj(e)))}cuid(e){return this._addCheck(l({kind:"cuid"},_.errToObj(e)))}cuid2(e){return this._addCheck(l({kind:"cuid2"},_.errToObj(e)))}ulid(e){return this._addCheck(l({kind:"ulid"},_.errToObj(e)))}base64(e){return this._addCheck(l({kind:"base64"},_.errToObj(e)))}ip(e){return this._addCheck(l({kind:"ip"},_.errToObj(e)))}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(l({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1},_.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(l({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},_.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(l({kind:"duration"},_.errToObj(e)))}regex(e,t){return this._addCheck(l({kind:"regex",regex:e},_.errToObj(t)))}includes(e,t){return this._addCheck(l({kind:"includes",value:e,position:t==null?void 0:t.position},_.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(l({kind:"startsWith",value:e},_.errToObj(t)))}endsWith(e,t){return this._addCheck(l({kind:"endsWith",value:e},_.errToObj(t)))}min(e,t){return this._addCheck(l({kind:"min",value:e},_.errToObj(t)))}max(e,t){return this._addCheck(l({kind:"max",value:e},_.errToObj(t)))}length(e,t){return this._addCheck(l({kind:"length",value:e},_.errToObj(t)))}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};me.create=n=>{var e;return new me(l({checks:[],typeName:T.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1},E(n)))};function ta(n,e){let t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,s=parseInt(n.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}var ve=class n extends w{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let s=this._getOrReturnCtx(e);return p(s,{code:d.invalid_type,expected:h.number,received:s.parsedType}),x}let r,a=new U;for(let s of this._def.checks)s.kind==="int"?S.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{code:d.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),p(r,{code:d.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),p(r,{code:d.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?ta(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),p(r,{code:d.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{code:d.not_finite,message:s.message}),a.dirty()):S.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,a){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(a)}]}))}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&S.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};ve.create=n=>new ve(l({checks:[],typeName:T.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1},E(n)));var Te=class n extends w{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let s=this._getOrReturnCtx(e);return p(s,{code:d.invalid_type,expected:h.bigint,received:s.parsedType}),x}let r,a=new U;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),p(r,{code:d.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),p(r,{code:d.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),p(r,{code:d.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):S.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,a){return new n(b(l({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(a)}]}))}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Te.create=n=>{var e;return new Te(l({checks:[],typeName:T.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1},E(n)))};var be=class extends w{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let r=this._getOrReturnCtx(e);return p(r,{code:d.invalid_type,expected:h.boolean,received:r.parsedType}),x}return Z(e.data)}};be.create=n=>new be(l({typeName:T.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1},E(n)));var xe=class n extends w{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let s=this._getOrReturnCtx(e);return p(s,{code:d.invalid_type,expected:h.date,received:s.parsedType}),x}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return p(s,{code:d.invalid_date}),x}let r=new U,a;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),p(a,{code:d.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),p(a,{code:d.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):S.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new n(b(l({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};xe.create=n=>new xe(l({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:T.ZodDate},E(n)));var We=class extends w{_parse(e){if(this._getType(e)!==h.symbol){let r=this._getOrReturnCtx(e);return p(r,{code:d.invalid_type,expected:h.symbol,received:r.parsedType}),x}return Z(e.data)}};We.create=n=>new We(l({typeName:T.ZodSymbol},E(n)));var Ee=class extends w{_parse(e){if(this._getType(e)!==h.undefined){let r=this._getOrReturnCtx(e);return p(r,{code:d.invalid_type,expected:h.undefined,received:r.parsedType}),x}return Z(e.data)}};Ee.create=n=>new Ee(l({typeName:T.ZodUndefined},E(n)));var we=class extends w{_parse(e){if(this._getType(e)!==h.null){let r=this._getOrReturnCtx(e);return p(r,{code:d.invalid_type,expected:h.null,received:r.parsedType}),x}return Z(e.data)}};we.create=n=>new we(l({typeName:T.ZodNull},E(n)));var pe=class extends w{constructor(){super(...arguments),this._any=!0}_parse(e){return Z(e.data)}};pe.create=n=>new pe(l({typeName:T.ZodAny},E(n)));var ce=class extends w{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Z(e.data)}};ce.create=n=>new ce(l({typeName:T.ZodUnknown},E(n)));var K=class extends w{_parse(e){let t=this._getOrReturnCtx(e);return p(t,{code:d.invalid_type,expected:h.never,received:t.parsedType}),x}};K.create=n=>new K(l({typeName:T.ZodNever},E(n)));var Be=class extends w{_parse(e){if(this._getType(e)!==h.undefined){let r=this._getOrReturnCtx(e);return p(r,{code:d.invalid_type,expected:h.void,received:r.parsedType}),x}return Z(e.data)}};Be.create=n=>new Be(l({typeName:T.ZodVoid},E(n)));var le=class n extends w{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==h.array)return p(t,{code:d.invalid_type,expected:h.array,received:t.parsedType}),x;if(a.exactLength!==null){let o=t.data.length>a.exactLength.value,c=t.data.length<a.exactLength.value;(o||c)&&(p(t,{code:o?d.too_big:d.too_small,minimum:c?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(p(t,{code:d.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(p(t,{code:d.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>a.type._parseAsync(new q(t,o,t.path,c)))).then(o=>U.mergeArray(r,o));let s=[...t.data].map((o,c)=>a.type._parseSync(new q(t,o,t.path,c)));return U.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new n(b(l({},this._def),{minLength:{value:e,message:_.toString(t)}}))}max(e,t){return new n(b(l({},this._def),{maxLength:{value:e,message:_.toString(t)}}))}length(e,t){return new n(b(l({},this._def),{exactLength:{value:e,message:_.toString(t)}}))}nonempty(e){return this.min(1,e)}};le.create=(n,e)=>new le(l({type:n,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray},E(e)));function $e(n){if(n instanceof V){let e={};for(let t in n.shape){let r=n.shape[t];e[t]=Y.create($e(r))}return new V(b(l({},n._def),{shape:()=>e}))}else return n instanceof le?new le(b(l({},n._def),{type:$e(n.element)})):n instanceof Y?Y.create($e(n.unwrap())):n instanceof ae?ae.create($e(n.unwrap())):n instanceof re?re.create(n.items.map(e=>$e(e))):n}var V=class n extends w{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=S.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.object){let u=this._getOrReturnCtx(e);return p(u,{code:d.invalid_type,expected:h.object,received:u.parsedType}),x}let{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof K&&this._def.unknownKeys==="strip"))for(let u in a.data)o.includes(u)||c.push(u);let m=[];for(let u of o){let v=s[u],M=a.data[u];m.push({key:{status:"valid",value:u},value:v._parse(new q(a,M,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof K){let u=this._def.unknownKeys;if(u==="passthrough")for(let v of c)m.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(u==="strict")c.length>0&&(p(a,{code:d.unrecognized_keys,keys:c}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let v of c){let M=a.data[v];m.push({key:{status:"valid",value:v},value:u._parse(new q(a,M,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(()=>ne(this,null,function*(){let u=[];for(let v of m){let M=yield v.key,ge=yield v.value;u.push({key:M,value:ge,alwaysSet:v.alwaysSet})}return u})).then(u=>U.mergeObjectSync(r,u)):U.mergeObjectSync(r,m)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new n(l(b(l({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,r)=>{var a,s,o,c;let m=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=_.errToObj(e).message)!==null&&c!==void 0?c:m}:{message:m}}}:{}))}strip(){return new n(b(l({},this._def),{unknownKeys:"strip"}))}passthrough(){return new n(b(l({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new n(b(l({},this._def),{shape:()=>l(l({},this._def.shape()),e)}))}merge(e){return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>l(l({},this._def.shape()),e._def.shape()),typeName:T.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new n(b(l({},this._def),{catchall:e}))}pick(e){let t={};return S.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new n(b(l({},this._def),{shape:()=>t}))}omit(e){let t={};return S.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new n(b(l({},this._def),{shape:()=>t}))}deepPartial(){return $e(this)}partial(e){let t={};return S.objectKeys(this.shape).forEach(r=>{let a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new n(b(l({},this._def),{shape:()=>t}))}required(e){let t={};return S.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Y;)s=s._def.innerType;t[r]=s}}),new n(b(l({},this._def),{shape:()=>t}))}keyof(){return Yn(S.objectKeys(this.shape))}};V.create=(n,e)=>new V(l({shape:()=>n,unknownKeys:"strip",catchall:K.create(),typeName:T.ZodObject},E(e)));V.strictCreate=(n,e)=>new V(l({shape:()=>n,unknownKeys:"strict",catchall:K.create(),typeName:T.ZodObject},E(e)));V.lazycreate=(n,e)=>new V(l({shape:n,unknownKeys:"strip",catchall:K.create(),typeName:T.ZodObject},E(e)));var ke=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function a(s){for(let c of s)if(c.result.status==="valid")return c.result;for(let c of s)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;let o=s.map(c=>new W(c.ctx.common.issues));return p(t,{code:d.invalid_union,unionErrors:o}),x}if(t.common.async)return Promise.all(r.map(s=>ne(this,null,function*(){let o=b(l({},t),{common:b(l({},t.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(a);{let s,o=[];for(let m of r){let u=b(l({},t),{common:b(l({},t.common),{issues:[]}),parent:null}),v=m._parseSync({data:t.data,path:t.path,parent:u});if(v.status==="valid")return v;v.status==="dirty"&&!s&&(s={result:v,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;let c=o.map(m=>new W(m));return p(t,{code:d.invalid_union,unionErrors:c}),x}}get options(){return this._def.options}};ke.create=(n,e)=>new ke(l({options:n,typeName:T.ZodUnion},E(e)));var oe=n=>n instanceof Ae?oe(n.schema):n instanceof B?oe(n.innerType()):n instanceof Oe?[n.value]:n instanceof Re?n.options:n instanceof Ie?S.objectValues(n.enum):n instanceof Ce?oe(n._def.innerType):n instanceof Ee?[void 0]:n instanceof we?[null]:n instanceof Y?[void 0,...oe(n.unwrap())]:n instanceof ae?[null,...oe(n.unwrap())]:n instanceof at||n instanceof Me?oe(n.unwrap()):n instanceof Ne?oe(n._def.innerType):[],Ct=class n extends w{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return p(t,{code:d.invalid_type,expected:h.object,received:t.parsedType}),x;let r=this.discriminator,a=t.data[r],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let s of t){let o=oe(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of o){if(a.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);a.set(c,s)}}return new n(l({typeName:T.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a},E(r)))}};function rn(n,e){let t=fe(n),r=fe(e);if(n===e)return{valid:!0,data:n};if(t===h.object&&r===h.object){let a=S.objectKeys(e),s=S.objectKeys(n).filter(c=>a.indexOf(c)!==-1),o=l(l({},n),e);for(let c of s){let m=rn(n[c],e[c]);if(!m.valid)return{valid:!1};o[c]=m.data}return{valid:!0,data:o}}else if(t===h.array&&r===h.array){if(n.length!==e.length)return{valid:!1};let a=[];for(let s=0;s<n.length;s++){let o=n[s],c=e[s],m=rn(o,c);if(!m.valid)return{valid:!1};a.push(m.data)}return{valid:!0,data:a}}else return t===h.date&&r===h.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}var Se=class extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(s,o)=>{if(tn(s)||tn(o))return x;let c=rn(s.value,o.value);return c.valid?((nn(s)||nn(o))&&t.dirty(),{status:t.value,value:c.data}):(p(r,{code:d.invalid_intersection_types}),x)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Se.create=(n,e,t)=>new Se(l({left:n,right:e,typeName:T.ZodIntersection},E(t)));var re=class n extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.array)return p(r,{code:d.invalid_type,expected:h.array,received:r.parsedType}),x;if(r.data.length<this._def.items.length)return p(r,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&r.data.length>this._def.items.length&&(p(r,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...r.data].map((o,c)=>{let m=this._def.items[c]||this._def.rest;return m?m._parse(new q(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>U.mergeArray(t,o)):U.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new n(b(l({},this._def),{rest:e}))}};re.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new re(l({items:n,typeName:T.ZodTuple,rest:null},E(e)))};var Nt=class n extends w{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return p(r,{code:d.invalid_type,expected:h.object,received:r.parsedType}),x;let a=[],s=this._def.keyType,o=this._def.valueType;for(let c in r.data)a.push({key:s._parse(new q(r,c,r.path,c)),value:o._parse(new q(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?U.mergeObjectAsync(t,a):U.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof w?new n(l({keyType:e,valueType:t,typeName:T.ZodRecord},E(r))):new n(l({keyType:me.create(),valueType:e,typeName:T.ZodRecord},E(t)))}},Ge=class extends w{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.map)return p(r,{code:d.invalid_type,expected:h.map,received:r.parsedType}),x;let a=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([c,m],u)=>({key:a._parse(new q(r,c,r.path,[u,"key"])),value:s._parse(new q(r,m,r.path,[u,"value"]))}));if(r.common.async){let c=new Map;return Promise.resolve().then(()=>ne(this,null,function*(){for(let m of o){let u=yield m.key,v=yield m.value;if(u.status==="aborted"||v.status==="aborted")return x;(u.status==="dirty"||v.status==="dirty")&&t.dirty(),c.set(u.value,v.value)}return{status:t.value,value:c}}))}else{let c=new Map;for(let m of o){let u=m.key,v=m.value;if(u.status==="aborted"||v.status==="aborted")return x;(u.status==="dirty"||v.status==="dirty")&&t.dirty(),c.set(u.value,v.value)}return{status:t.value,value:c}}}};Ge.create=(n,e,t)=>new Ge(l({valueType:e,keyType:n,typeName:T.ZodMap},E(t)));var Ye=class n extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.set)return p(r,{code:d.invalid_type,expected:h.set,received:r.parsedType}),x;let a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(p(r,{code:d.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(p(r,{code:d.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let s=this._def.valueType;function o(m){let u=new Set;for(let v of m){if(v.status==="aborted")return x;v.status==="dirty"&&t.dirty(),u.add(v.value)}return{status:t.value,value:u}}let c=[...r.data.values()].map((m,u)=>s._parse(new q(r,m,r.path,u)));return r.common.async?Promise.all(c).then(m=>o(m)):o(c)}min(e,t){return new n(b(l({},this._def),{minSize:{value:e,message:_.toString(t)}}))}max(e,t){return new n(b(l({},this._def),{maxSize:{value:e,message:_.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Ye.create=(n,e)=>new Ye(l({valueType:n,minSize:null,maxSize:null,typeName:T.ZodSet},E(e)));var Mt=class n extends w{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return p(t,{code:d.invalid_type,expected:h.function,received:t.parsedType}),x;function r(c,m){return Rt({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ot(),He].filter(u=>!!u),issueData:{code:d.invalid_arguments,argumentsError:m}})}function a(c,m){return Rt({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ot(),He].filter(u=>!!u),issueData:{code:d.invalid_return_type,returnTypeError:m}})}let s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof he){let c=this;return Z(function(...m){return ne(this,null,function*(){let u=new W([]),v=yield c._def.args.parseAsync(m,s).catch(J=>{throw u.addIssue(r(m,J)),u}),M=yield Reflect.apply(o,this,v);return yield c._def.returns._def.type.parseAsync(M,s).catch(J=>{throw u.addIssue(a(M,J)),u})})})}else{let c=this;return Z(function(...m){let u=c._def.args.safeParse(m,s);if(!u.success)throw new W([r(m,u.error)]);let v=Reflect.apply(o,this,u.data),M=c._def.returns.safeParse(v,s);if(!M.success)throw new W([a(v,M.error)]);return M.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new n(b(l({},this._def),{args:re.create(e).rest(ce.create())}))}returns(e){return new n(b(l({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new n(l({args:e||re.create([]).rest(ce.create()),returns:t||ce.create(),typeName:T.ZodFunction},E(r)))}},Ae=class extends w{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Ae.create=(n,e)=>new Ae(l({getter:n,typeName:T.ZodLazy},E(e)));var Oe=class extends w{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}};Oe.create=(n,e)=>new Oe(l({value:n,typeName:T.ZodLiteral},E(e)));function Yn(n,e){return new Re(l({values:n,typeName:T.ZodEnum},E(e)))}var Re=class n extends w{constructor(){super(...arguments),et.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return p(t,{expected:S.joinValues(r),received:t.parsedType,code:d.invalid_type}),x}if(It(this,et,"f")||Hn(this,et,new Set(this._def.values),"f"),!It(this,et,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return p(t,{received:t.data,code:d.invalid_enum_value,options:r}),x}return Z(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return n.create(e,l(l({},this._def),t))}exclude(e,t=this._def){return n.create(this.options.filter(r=>!e.includes(r)),l(l({},this._def),t))}};et=new WeakMap;Re.create=Yn;var Ie=class extends w{constructor(){super(...arguments),tt.set(this,void 0)}_parse(e){let t=S.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==h.string&&r.parsedType!==h.number){let a=S.objectValues(t);return p(r,{expected:S.joinValues(a),received:r.parsedType,code:d.invalid_type}),x}if(It(this,tt,"f")||Hn(this,tt,new Set(S.getValidEnumValues(this._def.values)),"f"),!It(this,tt,"f").has(e.data)){let a=S.objectValues(t);return p(r,{received:r.data,code:d.invalid_enum_value,options:a}),x}return Z(e.data)}get enum(){return this._def.values}};tt=new WeakMap;Ie.create=(n,e)=>new Ie(l({values:n,typeName:T.ZodNativeEnum},E(e)));var he=class extends w{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.promise&&t.common.async===!1)return p(t,{code:d.invalid_type,expected:h.promise,received:t.parsedType}),x;let r=t.parsedType===h.promise?t.data:Promise.resolve(t.data);return Z(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}};he.create=(n,e)=>new he(l({type:n,typeName:T.ZodPromise},E(e)));var B=class extends w{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{p(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){let o=a.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(c=>ne(this,null,function*(){if(t.value==="aborted")return x;let m=yield this._def.schema._parseAsync({data:c,path:r.path,parent:r});return m.status==="aborted"?x:m.status==="dirty"||t.value==="dirty"?Ve(m.value):m}));{if(t.value==="aborted")return x;let c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?x:c.status==="dirty"||t.value==="dirty"?Ve(c.value):c}}if(a.type==="refinement"){let o=c=>{let m=a.refinement(c,s);if(r.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){let c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?x:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?x:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(a.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nt(o))return o;let c=a.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>nt(o)?Promise.resolve(a.transform(o.value,s)).then(c=>({status:t.value,value:c})):o);S.assertNever(a)}};B.create=(n,e,t)=>new B(l({schema:n,typeName:T.ZodEffects,effect:e},E(t)));B.createWithPreprocess=(n,e,t)=>new B(l({schema:e,effect:{type:"preprocess",transform:n},typeName:T.ZodEffects},E(t)));var Y=class extends w{_parse(e){return this._getType(e)===h.undefined?Z(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Y.create=(n,e)=>new Y(l({innerType:n,typeName:T.ZodOptional},E(e)));var ae=class extends w{_parse(e){return this._getType(e)===h.null?Z(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ae.create=(n,e)=>new ae(l({innerType:n,typeName:T.ZodNullable},E(e)));var Ce=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===h.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Ce.create=(n,e)=>new Ce(l({innerType:n,typeName:T.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},E(e)));var Ne=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=b(l({},t),{common:b(l({},t.common),{issues:[]})}),a=this._def.innerType._parse({data:r.data,path:r.path,parent:l({},r)});return rt(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new W(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new W(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Ne.create=(n,e)=>new Ne(l({innerType:n,typeName:T.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},E(e)));var qe=class extends w{_parse(e){if(this._getType(e)!==h.nan){let r=this._getOrReturnCtx(e);return p(r,{code:d.invalid_type,expected:h.nan,received:r.parsedType}),x}return{status:"valid",value:e.data}}};qe.create=n=>new qe(l({typeName:T.ZodNaN},E(n)));var na=Symbol("zod_brand"),at=class extends w{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},st=class n extends w{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return ne(this,null,function*(){let s=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?x:s.status==="dirty"?(t.dirty(),Ve(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})});{let a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?x:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new n({in:e,out:t,typeName:T.ZodPipeline})}},Me=class extends w{_parse(e){let t=this._def.innerType._parse(e),r=a=>(nt(a)&&(a.value=Object.freeze(a.value)),a);return rt(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}};Me.create=(n,e)=>new Me(l({innerType:n,typeName:T.ZodReadonly},E(e)));function qn(n,e={},t){return n?pe.create().superRefine((r,a)=>{var s,o;if(!n(r)){let c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,m=(o=(s=c.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,u=typeof c=="string"?{message:c}:c;a.addIssue(b(l({code:"custom"},u),{fatal:m}))}}):pe.create()}var ra={object:V.lazycreate},T;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(T||(T={}));var aa=(n,e={message:`Input not instance of ${n.name}`})=>qn(t=>t instanceof n,e),Xn=me.create,Jn=ve.create,sa=qe.create,ia=Te.create,Kn=be.create,oa=xe.create,ca=We.create,la=Ee.create,da=we.create,ua=pe.create,fa=ce.create,ma=K.create,pa=Be.create,ha=le.create,ga=V.create,_a=V.strictCreate,ya=ke.create,va=Ct.create,Ta=Se.create,ba=re.create,xa=Nt.create,Ea=Ge.create,wa=Ye.create,ka=Mt.create,Sa=Ae.create,Aa=Oe.create,Oa=Re.create,Ra=Ie.create,Ia=he.create,$n=B.create,Ca=Y.create,Na=ae.create,Ma=B.createWithPreprocess,La=st.create,Pa=()=>Xn().optional(),Da=()=>Jn().optional(),Ua=()=>Kn().optional(),ja={string:n=>me.create(b(l({},n),{coerce:!0})),number:n=>ve.create(b(l({},n),{coerce:!0})),boolean:n=>be.create(b(l({},n),{coerce:!0})),bigint:n=>Te.create(b(l({},n),{coerce:!0})),date:n=>xe.create(b(l({},n),{coerce:!0}))},Za=x,R=Object.freeze({__proto__:null,defaultErrorMap:He,setErrorMap:Zr,getErrorMap:Ot,makeIssue:Rt,EMPTY_PATH:zr,addIssueToContext:p,ParseStatus:U,INVALID:x,DIRTY:Ve,OK:Z,isAborted:tn,isDirty:nn,isValid:nt,isAsync:rt,get util(){return S},get objectUtil(){return en},ZodParsedType:h,getParsedType:fe,ZodType:w,datetimeRegex:Gn,ZodString:me,ZodNumber:ve,ZodBigInt:Te,ZodBoolean:be,ZodDate:xe,ZodSymbol:We,ZodUndefined:Ee,ZodNull:we,ZodAny:pe,ZodUnknown:ce,ZodNever:K,ZodVoid:Be,ZodArray:le,ZodObject:V,ZodUnion:ke,ZodDiscriminatedUnion:Ct,ZodIntersection:Se,ZodTuple:re,ZodRecord:Nt,ZodMap:Ge,ZodSet:Ye,ZodFunction:Mt,ZodLazy:Ae,ZodLiteral:Oe,ZodEnum:Re,ZodNativeEnum:Ie,ZodPromise:he,ZodEffects:B,ZodTransformer:B,ZodOptional:Y,ZodNullable:ae,ZodDefault:Ce,ZodCatch:Ne,ZodNaN:qe,BRAND:na,ZodBranded:at,ZodPipeline:st,ZodReadonly:Me,custom:qn,Schema:w,ZodSchema:w,late:ra,get ZodFirstPartyTypeKind(){return T},coerce:ja,any:ua,array:ha,bigint:ia,boolean:Kn,date:oa,discriminatedUnion:va,effect:$n,enum:Oa,function:ka,instanceof:aa,intersection:Ta,lazy:Sa,literal:Aa,map:Ea,nan:sa,nativeEnum:Ra,never:ma,null:da,nullable:Na,number:Jn,object:ga,oboolean:Ua,onumber:Da,optional:Ca,ostring:Pa,pipeline:La,preprocess:Ma,promise:Ia,record:xa,set:wa,strictObject:_a,string:Xn,symbol:ca,transformer:$n,tuple:ba,undefined:la,union:ya,unknown:fa,void:pa,NEVER:Za,ZodIssueCode:d,quotelessJson:jr,ZodError:W});var Qn={USD:"USD",AED:"AED"};var er={data:"data",initialData:"initial-data",handshake:"handshake",paymentTriggered:"payment-triggered"};var{entries:dr,setPrototypeOf:tr,isFrozen:za,getPrototypeOf:Fa,getOwnPropertyDescriptor:$a}=Object,{freeze:F,seal:X,create:ur}=Object,{apply:dn,construct:un}=typeof Reflect!="undefined"&&Reflect;F||(F=function(e){return e});X||(X=function(e){return e});dn||(dn=function(e,t,r){return e.apply(t,r)});un||(un=function(e,t){return new e(...t)});var Lt=G(Array.prototype.forEach),nr=G(Array.prototype.pop),it=G(Array.prototype.push),Dt=G(String.prototype.toLowerCase),an=G(String.prototype.toString),rr=G(String.prototype.match),ot=G(String.prototype.replace),Va=G(String.prototype.indexOf),Ha=G(String.prototype.trim),Q=G(Object.prototype.hasOwnProperty),z=G(RegExp.prototype.test),ct=Wa(TypeError);function G(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return dn(n,e,r)}}function Wa(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return un(n,t)}}function k(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dt;tr&&tr(n,null);let r=e.length;for(;r--;){let a=e[r];if(typeof a=="string"){let s=t(a);s!==a&&(za(e)||(e[r]=s),a=s)}n[a]=!0}return n}function Ba(n){for(let e=0;e<n.length;e++)Q(n,e)||(n[e]=null);return n}function Le(n){let e=ur(null);for(let[t,r]of dr(n))Q(n,t)&&(Array.isArray(r)?e[t]=Ba(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=Le(r):e[t]=r);return e}function lt(n,e){for(;n!==null;){let r=$a(n,e);if(r){if(r.get)return G(r.get);if(typeof r.value=="function")return G(r.value)}n=Fa(n)}function t(){return null}return t}var ar=F(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sn=F(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),on=F(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ga=F(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),cn=F(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ya=F(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sr=F(["#text"]),ir=F(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ln=F(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),or=F(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pt=F(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qa=X(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Xa=X(/<%[\w\W]*|[\w\W]*%>/gm),Ja=X(/\${[\w\W]*}/gm),Ka=X(/^data-[\-\w.\u00B7-\uFFFF]/),Qa=X(/^aria-[\-\w]+$/),fr=X(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),es=X(/^(?:\w+script|data):/i),ts=X(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mr=X(/^html$/i),ns=X(/^[a-z][.\w]*(-[.\w]+)+$/i),cr=Object.freeze({__proto__:null,ARIA_ATTR:Qa,ATTR_WHITESPACE:ts,CUSTOM_ELEMENT:ns,DATA_ATTR:Ka,DOCTYPE_NAME:mr,ERB_EXPR:Xa,IS_ALLOWED_URI:fr,IS_SCRIPT_OR_DATA:es,MUSTACHE_EXPR:qa,TMPLIT_EXPR:Ja}),dt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},rs=function(){return typeof window=="undefined"?null:window},as=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(r=t.getAttribute(a));let s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+s+" could not be created."),null}},lr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pr(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rs(),e=y=>pr(y);if(e.version="3.2.2",e.removed=[],!n||!n.document||n.document.nodeType!==dt.document)return e.isSupported=!1,e;let{document:t}=n,r=t,a=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:c,Element:m,NodeFilter:u,NamedNodeMap:v=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:M,DOMParser:ge,trustedTypes:J}=n,de=m.prototype,ht=lt(de,"cloneNode"),gt=lt(de,"remove"),_t=lt(de,"nextSibling"),yt=lt(de,"childNodes"),_e=lt(de,"parentNode");if(typeof o=="function"){let y=t.createElement("template");y.content&&y.content.ownerDocument&&(t=y.content.ownerDocument)}let I,ue="",{implementation:Pe,createNodeIterator:vt,createDocumentFragment:Tt,getElementsByTagName:vr}=t,{importNode:Tr}=r,H=lr();e.isSupported=typeof dr=="function"&&typeof _e=="function"&&Pe&&Pe.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:zt,ERB_EXPR:Ft,TMPLIT_EXPR:$t,DATA_ATTR:br,ARIA_ATTR:xr,IS_SCRIPT_OR_DATA:Er,ATTR_WHITESPACE:mn,CUSTOM_ELEMENT:wr}=cr,{IS_ALLOWED_URI:pn}=cr,C=null,hn=k({},[...ar,...sn,...on,...cn,...sr]),L=null,gn=k({},[...ir,...ln,...or,...Pt]),O=Object.seal(ur(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,Vt=null,_n=!0,Ht=!0,yn=!1,vn=!0,De=!1,Wt=!0,ye=!1,Bt=!1,Gt=!1,Ue=!1,bt=!1,xt=!1,Tn=!0,bn=!1,kr="user-content-",Yt=!0,Je=!1,je={},Ze=null,xn=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),En=null,wn=k({},["audio","video","img","source","image","track"]),qt=null,kn=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Et="http://www.w3.org/1998/Math/MathML",wt="http://www.w3.org/2000/svg",se="http://www.w3.org/1999/xhtml",ze=se,Xt=!1,Jt=null,Sr=k({},[Et,wt,se],an),kt=k({},["mi","mo","mn","ms","mtext"]),St=k({},["annotation-xml"]),Ar=k({},["title","style","font","a","script"]),Ke=null,Or=["application/xhtml+xml","text/html"],Rr="text/html",N=null,Fe=null,Ir=t.createElement("form"),Sn=function(i){return i instanceof RegExp||i instanceof Function},Kt=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Fe&&Fe===i)){if((!i||typeof i!="object")&&(i={}),i=Le(i),Ke=Or.indexOf(i.PARSER_MEDIA_TYPE)===-1?Rr:i.PARSER_MEDIA_TYPE,N=Ke==="application/xhtml+xml"?an:Dt,C=Q(i,"ALLOWED_TAGS")?k({},i.ALLOWED_TAGS,N):hn,L=Q(i,"ALLOWED_ATTR")?k({},i.ALLOWED_ATTR,N):gn,Jt=Q(i,"ALLOWED_NAMESPACES")?k({},i.ALLOWED_NAMESPACES,an):Sr,qt=Q(i,"ADD_URI_SAFE_ATTR")?k(Le(kn),i.ADD_URI_SAFE_ATTR,N):kn,En=Q(i,"ADD_DATA_URI_TAGS")?k(Le(wn),i.ADD_DATA_URI_TAGS,N):wn,Ze=Q(i,"FORBID_CONTENTS")?k({},i.FORBID_CONTENTS,N):xn,Xe=Q(i,"FORBID_TAGS")?k({},i.FORBID_TAGS,N):{},Vt=Q(i,"FORBID_ATTR")?k({},i.FORBID_ATTR,N):{},je=Q(i,"USE_PROFILES")?i.USE_PROFILES:!1,_n=i.ALLOW_ARIA_ATTR!==!1,Ht=i.ALLOW_DATA_ATTR!==!1,yn=i.ALLOW_UNKNOWN_PROTOCOLS||!1,vn=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,De=i.SAFE_FOR_TEMPLATES||!1,Wt=i.SAFE_FOR_XML!==!1,ye=i.WHOLE_DOCUMENT||!1,Ue=i.RETURN_DOM||!1,bt=i.RETURN_DOM_FRAGMENT||!1,xt=i.RETURN_TRUSTED_TYPE||!1,Gt=i.FORCE_BODY||!1,Tn=i.SANITIZE_DOM!==!1,bn=i.SANITIZE_NAMED_PROPS||!1,Yt=i.KEEP_CONTENT!==!1,Je=i.IN_PLACE||!1,pn=i.ALLOWED_URI_REGEXP||fr,ze=i.NAMESPACE||se,kt=i.MATHML_TEXT_INTEGRATION_POINTS||kt,St=i.HTML_INTEGRATION_POINTS||St,O=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&Sn(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(O.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&Sn(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(O.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(O.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Ht=!1),bt&&(Ue=!0),je&&(C=k({},sr),L=[],je.html===!0&&(k(C,ar),k(L,ir)),je.svg===!0&&(k(C,sn),k(L,ln),k(L,Pt)),je.svgFilters===!0&&(k(C,on),k(L,ln),k(L,Pt)),je.mathMl===!0&&(k(C,cn),k(L,or),k(L,Pt))),i.ADD_TAGS&&(C===hn&&(C=Le(C)),k(C,i.ADD_TAGS,N)),i.ADD_ATTR&&(L===gn&&(L=Le(L)),k(L,i.ADD_ATTR,N)),i.ADD_URI_SAFE_ATTR&&k(qt,i.ADD_URI_SAFE_ATTR,N),i.FORBID_CONTENTS&&(Ze===xn&&(Ze=Le(Ze)),k(Ze,i.FORBID_CONTENTS,N)),Yt&&(C["#text"]=!0),ye&&k(C,["html","head","body"]),C.table&&(k(C,["tbody"]),delete Xe.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw ct('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ct('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=i.TRUSTED_TYPES_POLICY,ue=I.createHTML("")}else I===void 0&&(I=as(J,a)),I!==null&&typeof ue=="string"&&(ue=I.createHTML(""));F&&F(i),Fe=i}},An=k({},[...sn,...on,...Ga]),On=k({},[...cn,...Ya]),Cr=function(i){let f=_e(i);(!f||!f.tagName)&&(f={namespaceURI:ze,tagName:"template"});let g=Dt(i.tagName),A=Dt(f.tagName);return Jt[i.namespaceURI]?i.namespaceURI===wt?f.namespaceURI===se?g==="svg":f.namespaceURI===Et?g==="svg"&&(A==="annotation-xml"||kt[A]):!!An[g]:i.namespaceURI===Et?f.namespaceURI===se?g==="math":f.namespaceURI===wt?g==="math"&&St[A]:!!On[g]:i.namespaceURI===se?f.namespaceURI===wt&&!St[A]||f.namespaceURI===Et&&!kt[A]?!1:!On[g]&&(Ar[g]||!An[g]):!!(Ke==="application/xhtml+xml"&&Jt[i.namespaceURI]):!1},ee=function(i){it(e.removed,{element:i});try{_e(i).removeChild(i)}catch(f){gt(i)}},At=function(i,f){try{it(e.removed,{attribute:f.getAttributeNode(i),from:f})}catch(g){it(e.removed,{attribute:null,from:f})}if(f.removeAttribute(i),i==="is")if(Ue||bt)try{ee(f)}catch(g){}else try{f.setAttribute(i,"")}catch(g){}},Rn=function(i){let f=null,g=null;if(Gt)i="<remove></remove>"+i;else{let P=rr(i,/^[\r\n\t ]+/);g=P&&P[0]}Ke==="application/xhtml+xml"&&ze===se&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");let A=I?I.createHTML(i):i;if(ze===se)try{f=new ge().parseFromString(A,Ke)}catch(P){}if(!f||!f.documentElement){f=Pe.createDocument(ze,"template",null);try{f.documentElement.innerHTML=Xt?ue:A}catch(P){}}let D=f.body||f.documentElement;return i&&g&&D.insertBefore(t.createTextNode(g),D.childNodes[0]||null),ze===se?vr.call(f,ye?"html":"body")[0]:ye?f.documentElement:D},In=function(i){return vt.call(i.ownerDocument||i,i,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Cn=function(i){return i instanceof M&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof v)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},Nn=function(i){return typeof c=="function"&&i instanceof c};function ie(y,i,f){Lt(y,g=>{g.call(e,i,f,Fe)})}let Mn=function(i){let f=null;if(ie(H.beforeSanitizeElements,i,null),Cn(i))return ee(i),!0;let g=N(i.nodeName);if(ie(H.uponSanitizeElement,i,{tagName:g,allowedTags:C}),i.hasChildNodes()&&!Nn(i.firstElementChild)&&z(/<[/\w]/g,i.innerHTML)&&z(/<[/\w]/g,i.textContent)||i.nodeType===dt.progressingInstruction||Wt&&i.nodeType===dt.comment&&z(/<[/\w]/g,i.data))return ee(i),!0;if(!C[g]||Xe[g]){if(!Xe[g]&&Pn(g)&&(O.tagNameCheck instanceof RegExp&&z(O.tagNameCheck,g)||O.tagNameCheck instanceof Function&&O.tagNameCheck(g)))return!1;if(Yt&&!Ze[g]){let A=_e(i)||i.parentNode,D=yt(i)||i.childNodes;if(D&&A){let P=D.length;for(let $=P-1;$>=0;--$){let te=ht(D[$],!0);te.__removalCount=(i.__removalCount||0)+1,A.insertBefore(te,_t(i))}}}return ee(i),!0}return i instanceof m&&!Cr(i)||(g==="noscript"||g==="noembed"||g==="noframes")&&z(/<\/no(script|embed|frames)/i,i.innerHTML)?(ee(i),!0):(De&&i.nodeType===dt.text&&(f=i.textContent,Lt([zt,Ft,$t],A=>{f=ot(f,A," ")}),i.textContent!==f&&(it(e.removed,{element:i.cloneNode()}),i.textContent=f)),ie(H.afterSanitizeElements,i,null),!1)},Ln=function(i,f,g){if(Tn&&(f==="id"||f==="name")&&(g in t||g in Ir))return!1;if(!(Ht&&!Vt[f]&&z(br,f))){if(!(_n&&z(xr,f))){if(!L[f]||Vt[f]){if(!(Pn(i)&&(O.tagNameCheck instanceof RegExp&&z(O.tagNameCheck,i)||O.tagNameCheck instanceof Function&&O.tagNameCheck(i))&&(O.attributeNameCheck instanceof RegExp&&z(O.attributeNameCheck,f)||O.attributeNameCheck instanceof Function&&O.attributeNameCheck(f))||f==="is"&&O.allowCustomizedBuiltInElements&&(O.tagNameCheck instanceof RegExp&&z(O.tagNameCheck,g)||O.tagNameCheck instanceof Function&&O.tagNameCheck(g))))return!1}else if(!qt[f]){if(!z(pn,ot(g,mn,""))){if(!((f==="src"||f==="xlink:href"||f==="href")&&i!=="script"&&Va(g,"data:")===0&&En[i])){if(!(yn&&!z(Er,ot(g,mn,"")))){if(g)return!1}}}}}}return!0},Pn=function(i){return i!=="annotation-xml"&&rr(i,wr)},Dn=function(i){ie(H.beforeSanitizeAttributes,i,null);let{attributes:f}=i;if(!f)return;let g={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L,forceKeepAttr:void 0},A=f.length;for(;A--;){let D=f[A],{name:P,namespaceURI:$,value:te}=D,Qe=N(P),j=P==="value"?te:Ha(te);if(g.attrName=Qe,g.attrValue=j,g.keepAttr=!0,g.forceKeepAttr=void 0,ie(H.uponSanitizeAttribute,i,g),j=g.attrValue,bn&&(Qe==="id"||Qe==="name")&&(At(P,i),j=kr+j),Wt&&z(/((--!?|])>)|<\/(style|title)/i,j)){At(P,i);continue}if(g.forceKeepAttr||(At(P,i),!g.keepAttr))continue;if(!vn&&z(/\/>/i,j)){At(P,i);continue}De&&Lt([zt,Ft,$t],jn=>{j=ot(j,jn," ")});let Un=N(i.nodeName);if(Ln(Un,Qe,j)){if(I&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!$)switch(J.getAttributeType(Un,Qe)){case"TrustedHTML":{j=I.createHTML(j);break}case"TrustedScriptURL":{j=I.createScriptURL(j);break}}try{$?i.setAttributeNS($,P,j):i.setAttribute(P,j),Cn(i)?ee(i):nr(e.removed)}catch(jn){}}}ie(H.afterSanitizeAttributes,i,null)},Nr=function y(i){let f=null,g=In(i);for(ie(H.beforeSanitizeShadowDOM,i,null);f=g.nextNode();)ie(H.uponSanitizeShadowNode,f,null),!Mn(f)&&(f.content instanceof s&&y(f.content),Dn(f));ie(H.afterSanitizeShadowDOM,i,null)};return e.sanitize=function(y){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=null,g=null,A=null,D=null;if(Xt=!y,Xt&&(y="<!-->"),typeof y!="string"&&!Nn(y))if(typeof y.toString=="function"){if(y=y.toString(),typeof y!="string")throw ct("dirty is not a string, aborting")}else throw ct("toString is not a function");if(!e.isSupported)return y;if(Bt||Kt(i),e.removed=[],typeof y=="string"&&(Je=!1),Je){if(y.nodeName){let te=N(y.nodeName);if(!C[te]||Xe[te])throw ct("root node is forbidden and cannot be sanitized in-place")}}else if(y instanceof c)f=Rn("<!---->"),g=f.ownerDocument.importNode(y,!0),g.nodeType===dt.element&&g.nodeName==="BODY"||g.nodeName==="HTML"?f=g:f.appendChild(g);else{if(!Ue&&!De&&!ye&&y.indexOf("<")===-1)return I&&xt?I.createHTML(y):y;if(f=Rn(y),!f)return Ue?null:xt?ue:""}f&&Gt&&ee(f.firstChild);let P=In(Je?y:f);for(;A=P.nextNode();)Mn(A)||(A.content instanceof s&&Nr(A.content),Dn(A));if(Je)return y;if(Ue){if(bt)for(D=Tt.call(f.ownerDocument);f.firstChild;)D.appendChild(f.firstChild);else D=f;return(L.shadowroot||L.shadowrootmode)&&(D=Tr.call(r,D,!0)),D}let $=ye?f.outerHTML:f.innerHTML;return ye&&C["!doctype"]&&f.ownerDocument&&f.ownerDocument.doctype&&f.ownerDocument.doctype.name&&z(mr,f.ownerDocument.doctype.name)&&($="<!DOCTYPE "+f.ownerDocument.doctype.name+`>
`+$),De&&Lt([zt,Ft,$t],te=>{$=ot($,te," ")}),I&&xt?I.createHTML($):$},e.setConfig=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Kt(y),Bt=!0},e.clearConfig=function(){Fe=null,Bt=!1},e.isValidAttribute=function(y,i,f){Fe||Kt({});let g=N(y),A=N(i);return Ln(g,A,f)},e.addHook=function(y,i){typeof i=="function"&&it(H[y],i)},e.removeHook=function(y){return nr(H[y])},e.removeHooks=function(y){H[y]=[]},e.removeAllHooks=function(){H=lr()},e}var hr=pr();function ut(n="URLs are not allowed"){let e=/(?:https?:)?\/\/|\b[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,63}\b/i;return R.string().refine(t=>!e.test(t),{message:n})}function ft(n="HTML is not allowed"){return R.string().refine(e=>hr.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]})===e,{message:n})}function Ut(n,e,t=`Input must be between ${n} and ${e} characters`){return R.string().min(n,`Must be at least ${n} characters`).max(e,t)}function jt(n="Numbers are not allowed"){return R.string().regex(/^[^0-9]*$/,n)}function Zt(n="Special characters are not allowed"){return R.string().regex(/^[^<>/{}[\]"'`\\;()]*$/,n)}var gr=R.object({type:R.enum([er.data]),data:R.object({prefilledCustomer:R.object({first_name:R.string().pipe(Ut(1,100)).pipe(ut()).pipe(ft()).pipe(jt()).pipe(Zt()).optional(),last_name:R.string().pipe(Ut(1,100)).pipe(ut()).pipe(ft()).pipe(jt()).pipe(Zt()).optional(),email:R.string().email().optional()}).optional(),amount:R.number().min(0).optional(),currency:R.string().pipe(ut()).pipe(ft()).pipe(jt()).refine(n=>Object.values(Qn).includes(n),{message:"Invalid currency"}).optional(),external_id:R.string().pipe(Ut(1,100)).pipe(ut()).pipe(ft()).pipe(Zt()).optional()}).strict()});var ss=["http:","https:"],is=["javascript:","data:","vbscript:","file:","about:","blob:"],_r=R.string().url().transform(n=>{try{return new URL(n)}catch(e){return null}}).refine(n=>n!==null&&ss.includes(n.protocol),{message:"URL must use either HTTP or HTTPS protocol"}).refine(n=>n!==null&&!is.some(e=>n.href.toLowerCase().includes(e)),{message:"URL contains blocked protocol or malicious content"}).refine(n=>(n==null?void 0:n.hostname.includes("."))&&n.hostname.length>3,{message:"Invalid domain format"}).transform(n=>n==null?void 0:n.href);var mt={formLoaded:"form-loaded",formValidated:"form-validated",formInvalid:"form-invalid",formSubmitted:"form-submitted"};var yr={iframeLoaded:"iframe-loaded",handshake:"handshake"};var pt={paymentTriggered:"payment-triggered",paymentAborted:"payment-aborted",paymentFailed:"payment-failed",paymentSuccess:"payment-success"};var fn=class{constructor(e){this._defaultStyles={backgroundColor:"transparent",width:"100%",height:"100%",border:"0",display:"block",zIndex:99999};var r;let t=(r=window==null?void 0:window.location)==null?void 0:r.href;if(!t)throw new Error("Unable to determine current URL");this._consumerUrl=encodeURIComponent(t),this._rootId=e.rootId,this._paymentLinkUrl=e.paymentLinkUrl,this._iframeId=e.iframeId||"iframe-mamo-checkout",this._options=e,this._messageHandler=this._messageHandler.bind(this),this.handleIframeMessage=this.handleIframeMessage.bind(this),this.getDomain=this.getDomain.bind(this)}addIframeToWebsite(){let e=document.getElementById(this._rootId);if(!e)throw new Error(`Element with ID ${this._rootId} not found`);try{let t=document.createElement("iframe");t.onerror=()=>{console.error("Failed to load iframe - X-Frame-Options may be blocking embedding"),window.open(this._paymentLinkUrl,"_blank")},t.onload=()=>{try{if(!t.contentWindow)throw new Error("Cannot access iframe content");this._handshakeEvent(),window.addEventListener("message",this._messageHandler,!1)}catch(a){console.error("Iframe blocked by X-Frame-Options, redirecting..."),window.open(this._paymentLinkUrl,"_blank")}};let r={crossorigin:"anonymous",id:this._iframeId,allowtransparency:"true",allow:"payment",sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-top-navigation",src:new URL(`${this._paymentLinkUrl}?consumer=${this._consumerUrl}`).toString()};for(let[a,s]of Object.entries(r))t.setAttribute(a,s);Object.assign(t.style,this._defaultStyles),e.appendChild(t)}catch(t){console.error("Failed to create iframe:",t),window.open(this._paymentLinkUrl,"_blank")}}sendDataToIframe(e){var a;console.log("Sending data to iframe:",e);let t=gr.safeParse(e);if(!t.success)throw new Error(`[Send Data To Iframe] Invalid schema for incoming data: ${JSON.stringify(t.error.errors)}`);if(!this._iframe)return;let r=new URL(this._iframe.src).origin;(a=this._iframe.contentWindow)==null||a.postMessage(t.data,r)}triggerPayment(){var t;if(!this._iframe)return;let e=new URL(this._iframe.src).origin;(t=this._iframe.contentWindow)==null||t.postMessage({type:"payment-triggered"},e)}destroy(){window.removeEventListener("message",this._messageHandler),this._iframe.remove()}_messageHandler(e){let t=this.getDomain(this._paymentLinkUrl);this.handleIframeMessage(e,t)}getDomain(e){try{return new URL(e).origin}catch(t){throw new Error("Invalid URL provided")}}handleIframeMessage(e,t){var a,s,o,c,m,u,v,M,ge,J,de,ht,gt,_t,yt,_e,I,ue,Pe,vt;if(e.origin!==t||!this._iframe)return;let r=e.data.event||e.data;switch(console.log("Received message:",r),r){case"closeIframe":case"checkout-complete":this._iframe.style.display="none";break;case"connectionEstablished":break;case yr.iframeLoaded:(s=(a=this._options).onIframeLoaded)==null||s.call(a,e.data);break;case mt.formValidated:(c=(o=this._options).onFormValid)==null||c.call(o);break;case mt.formInvalid:(u=(m=this._options).onFormInvalid)==null||u.call(m);break;case mt.formLoaded:(M=(v=this._options).onFormLoaded)==null||M.call(v);break;case mt.formSubmitted:(J=(ge=this._options).onFormSubmitted)==null||J.call(ge);break;case pt.paymentTriggered:(ht=(de=this._options).onPaymentTriggered)==null||ht.call(de);break;case pt.paymentAborted:(_t=(gt=this._options).onPaymentAborted)==null||_t.call(gt);break;case pt.paymentFailed:(_e=(yt=this._options).onPaymentFailed)==null||_e.call(yt);break;case pt.paymentSuccess:(ue=(I=this._options).onPaymentComplete)==null||ue.call(I);break;default:if(((Pe=e.data)==null?void 0:Pe.type)==="confirmation_required"&&((vt=e.data)!=null&&vt.payload)){this._iframe.style.display="none";let Tt=e.data.payload;this.isValidUrl(Tt)&&window.location.replace(Tt)}}}_handshakeEvent(){var e;this._iframe&&((e=this._iframe.contentWindow)==null||e.postMessage({type:"handshake",origin:window.location.origin},this.getDomain(this._iframe.src)))}isValidUrl(e){try{let t=_r.safeParse(e);if(!t.success)return!1;let r=new URL(t.data);return!["javascript:","data:"].includes(r.protocol)}catch(t){return!1}}get _iframe(){return document.getElementById(this._iframeId)}};window.MamoPay=fn;})();
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.2/LICENSE *)
*/
//# sourceMappingURL=checkout-permanent.min.js.map
